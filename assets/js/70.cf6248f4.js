(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{613:function(t,s,a){"use strict";a.r(s);var n=a(7),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",{attrs:{align:"center"}},[a("img",{attrs:{width:"500",src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fdd2f2cdffc14bcd9be6f5ae460c5c03~tplv-k3u1fbpfcp-zoom-crop-mark:3024:3024:3024:1702.awebp?"}})]),t._v(" "),a("blockquote",[a("p",[t._v("笔者之前是 Vue2+React 开发者，因项目需要直接上手 Vue3，所以快速学习一下，中间会对比一些和 React 相关的区别")])]),t._v(" "),a("h2",{attrs:{id:"一、前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、前言"}},[t._v("#")]),t._v(" 一、前言")]),t._v(" "),a("p",[t._v("笔者之前是 Vue2+React 开发者，因项目需要直接上手 Vue3，所以快速学习一下，中间会对比一些和 React 相关的区别。阅读前提："),a("code",[t._v("已经上手了Vue2的开发")]),t._v("，本文主要聊的问题：")]),t._v(" "),a("ul",[a("li",[t._v("Vue3 的全新特性")]),t._v(" "),a("li",[t._v("Vue2 和 Vue3 的一些区别")]),t._v(" "),a("li",[t._v("Vue2 开发者如何快速上手 Vue3")]),t._v(" "),a("li",[t._v("Vue3 和 React 的简单比对")]),t._v(" "),a("li",[t._v("使用 Vue3 编写组件库")]),t._v(" "),a("li",[t._v("后续关于 Vue3 的一些学习、源码、面试题等")])]),t._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://alexwjj.github.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("【俊劫的学习基地】 更多前端学习资源等你来拿"),a("OutboundLink")],1),t._v("（有摸鱼群 🐳），")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://alexwjj.github.io/img/wx-global.png",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击关注公众号"),a("OutboundLink")],1),t._v("，一起学习打卡！兄弟姐妹帮小弟点个赞")]),t._v(" "),a("p",[t._v("强烈推荐"),a("a",{attrs:{href:"https://www.bilibili.com/video/BV1dS4y1y7vd?p=1",target:"_blank",rel:"noopener noreferrer"}},[t._v("小满 ZS 的 B 站教程：Vue3 + vite + Ts + pinia + 实战 + 源码 +全栈"),a("OutboundLink")],1)])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d8a46185ae944fc3bdef826827660396~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"二、vue2-vs-vue3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、vue2-vs-vue3"}},[t._v("#")]),t._v(" 二、Vue2 vs Vue3")]),t._v(" "),a("h3",{attrs:{id:"_2-1-简单点说"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-简单点说"}},[t._v("#")]),t._v(" 2.1 简单点说")]),t._v(" "),a("ul",[a("li",[t._v("Vue2 只支持"),a("code",[t._v("单节点")]),t._v("，Vue3 template 支持"),a("code",[t._v("多节点")]),t._v("，类似 react fragments")]),t._v(" "),a("li",[a("code",[t._v("变化")]),t._v("基本都在 script 中（Option api -> Composition api）不会再看见满屏的 this 了！！！")]),t._v(" "),a("li",[t._v("style 支持"),a("code",[t._v("v-bind")])]),t._v(" "),a("li",[t._v("Proxy 代替 defineProperty\n"),a("ul",[a("li",[t._v("defineProperty 无法实现对数组对象的深层监听，"),a("code",[t._v("Proxy")]),t._v("是浏览器最新 api，功能更加强大。")]),t._v(" "),a("li",[t._v("不再支持 IE，Vue2 想享受 Vue3 带来的部分更新，可考虑升级"),a("code",[t._v("Vue2.7")]),t._v("版本")])])]),t._v(" "),a("li",[t._v("TypeScript 的支持\n"),a("ul",[a("li",[t._v("Vue2 采用的是 Facebook 的"),a("code",[t._v("Flow")]),t._v("，没法完美支持"),a("code",[t._v("TypeScript")]),t._v("（所以项目初期技术选型很重要）")]),t._v(" "),a("li",[t._v("Vue3 TypeScript"),a("code",[t._v("完全重写")]),t._v("，提供和 React 一样的 TS 支持")])])]),t._v(" "),a("li",[t._v("全新生态\n"),a("ul",[a("li",[t._v("基本还是 vue 周边伴随 Vue3 升级那一套，但是状态管理推荐，由原来的 Vuex 变为"),a("code",[t._v("Pina")])]),t._v(" "),a("li",[t._v("全新的"),a("code",[t._v("vite")]),t._v("支持，包括"),a("code",[t._v("vitest")]),t._v("等，官方提供周边工具更多了")])])]),t._v(" "),a("li",[t._v("其它优化\n"),a("ul",[a("li",[a("code",[t._v("性能更好，体积更小")]),t._v("就不用说了")]),t._v(" "),a("li",[a("code",[t._v("事件监听缓存")]),t._v("，类似@click 绑定的函数，无需多次创建，放在了 cacheHandler 缓存中")]),t._v(" "),a("li",[a("code",[t._v("SSR")]),t._v("：Vue 3.0 会将静态标签直接转化为文本，相比 React 先将 JSX 转化为虚拟 DOM，再将虚拟 DOM 转化为 HTML，这一点 Vue3 的速度要快很多")]),t._v(" "),a("li",[a("code",[t._v("Use Hooks")]),t._v(" 放弃过去的 mixins，使用 Hooks 解决过去 mixins 的一些缺点")])])]),t._v(" "),a("li")]),t._v(" "),a("h3",{attrs:{id:"_2-2-源码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-源码"}},[t._v("#")]),t._v(" 2.2 源码")]),t._v(" "),a("blockquote",[a("p",[t._v("了解的不多，后续再补充")])]),t._v(" "),a("h4",{attrs:{id:"diff-算法的优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#diff-算法的优化"}},[t._v("#")]),t._v(" diff 算法的优化")]),t._v(" "),a("ul",[a("li",[t._v("不再和 vue2 一样，完全对比两棵虚拟 DOM 树，Vue3 采用"),a("code",[t._v("动静结合")]),t._v("的方法，优化 diff 性能")]),t._v(" "),a("li",[t._v("通过编译阶段对静态模板进行分析，编译生成 Block tree。更新性能由 "),a("code",[t._v("模版整体大小相关")]),t._v(" =》与"),a("code",[t._v("动态内容的数量相关")]),t._v("，这是一个非常大的性能突破。将代码提升到渲染函数之外，这样可以避免在每次渲染时重新创建这些对象，从而大大提高内存使用率并减少垃圾回收的频率。")])]),t._v(" "),a("h4",{attrs:{id:"源码管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#源码管理"}},[t._v("#")]),t._v(" 源码管理")]),t._v(" "),a("ul",[a("li",[t._v("vue2 "),a("code",[t._v("poly-repo")]),t._v(" "),a("ul",[a("li",[t._v("vue2.x 的源码托管在 src 目录中，然后依据功能拆分出了 complier(模板编译的相关代码)，core(与平台无关的通用运行时代码)，platforms(平台专有代码)，server（服务端渲染的相关代码）、sfc（.vue 单文件解析相关代码）、shared（共享工具代码） 等目录")])])]),t._v(" "),a("li",[t._v("vue3 "),a("code",[t._v("mono-repo")]),t._v(" "),a("ul",[a("li",[t._v("package 可以"),a("code",[t._v("独立于")]),t._v("vue.js 去使用，这样例如用户想要使用 vue3.0 的响应式，可以"),a("code",[t._v("单独依赖reactive")]),t._v("，而不必依赖整个 vue.js，减少引用包的体积，而 vue2.x 却做不到这一点。")])])]),t._v(" "),a("li",[t._v("源码结构对比\n"),a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dc103a05a49a462ca125bf62ab95e0c8~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})])]),t._v(" "),a("h2",{attrs:{id:"三、全新的-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、全新的-api"}},[t._v("#")]),t._v(" 三、全新的 API")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://v3.cn.vuejs.org/guide/composition-api-introduction.html#%E4%BB%80%E4%B9%88%E6%98%AF%E7%BB%84%E5%90%88%E5%BC%8F-api",target:"_blank",rel:"noopener noreferrer"}},[t._v("什么是组合式 API？- Vue 官方"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("解决了过去组件过长时，optionsApi 带来的难以维护的问题")]),t._v(" "),a("li",[t._v("逻辑可以整块复用")]),t._v(" "),a("li",[t._v("所有 API 都是 import 引入的，对 Tree- shaking 很友好，没用到功能，打包的时候会被清理掉，减小包的大小")])]),t._v(" "),a("h3",{attrs:{id:"_3-1-setup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-setup"}},[t._v("#")]),t._v(" 3.1 setup")]),t._v(" "),a("ul",[a("li",[t._v("新的  "),a("code",[t._v("setup")]),t._v("  选项在组件被创建"),a("strong",[t._v("之前")]),t._v("执行，一旦  "),a("code",[t._v("props")]),t._v("  被解析完成，它就将被作为组合式 API 的入口。")]),t._v(" "),a("li",[t._v("可以当做 Vue2 的 beforeCreate 和 create 生命周期用")]),t._v(" "),a("li",[t._v("可直接写"),a("code",[t._v("await语法")])]),t._v(" "),a("li",[t._v("SFC 单文件组件中直接使用"),a("code",[t._v('<script lang="ts" setup>')]),t._v("即可，或者也可以结合"),a("code",[t._v("export default")]),t._v("使用")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script lang"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ts"')]),t._v(" setup"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/getUserInfo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// or")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Attribute (非响应式对象，等同于 $attrs)")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("attrs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 插槽 (非响应式对象，等同于 $slots)")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("slots"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 触发事件 (方法，等同于 $emit)")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("emit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 暴露公共 property (函数)")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("expose"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("h3",{attrs:{id:"_3-2-ref"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-ref"}},[t._v("#")]),t._v(" 3.2 ref")]),t._v(" "),a("ul",[a("li",[t._v("ref 用来创建"),a("code",[t._v("基础类型")]),t._v("的响应式数据")]),t._v(" "),a("li",[t._v("template 中默认调用 value 显示数据，script 中需要使用"),a("code",[t._v(".value")]),t._v(" 调用")]),t._v(" "),a("li",[t._v("和 react ref 差不多，react 是.current 获取值，vue3 是.value。")]),t._v(" "),a("li",[t._v("Ref 的本质是通过 Reactive 创建的，Ref(10)=>Reactive({value:10})")])]),t._v(" "),a("blockquote",[a("p",[t._v("有一定的心智负担，尤大也明确说了不会支持 script 中直接访问。究其原因，还是基础类型无法拦截它的变化，当然也有大哥提出用 new String('foo')类似的语法对基础类型进行包装。个人感觉直接拿已支持的 reactive 来搞也不错")])]),t._v(" "),a("h4",{attrs:{id:"相关-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#相关-api"}},[t._v("#")]),t._v(" 相关 api")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("Ref")]),t._v(" ts 定义 "),a("code",[t._v("import { type Ref } from 'vue';")])]),t._v(" "),a("li",[a("code",[t._v("isRef")]),t._v(" 判断是否为 ref 对象。一般是 ref，toRef，toRefs 创建的变量")]),t._v(" "),a("li",[a("code",[t._v("toRefs")]),t._v(" 将"),a("code",[t._v("reactive对象")]),t._v("解构为单个响应式对象")]),t._v(" "),a("li",[a("code",[t._v("shallowRef")]),t._v(" 创建一个跟踪自身  .value  变化的 ref，但不会使其值也变成响应式的，简单理解为创建一个和 ref 相同结构的非响应式变量")]),t._v(" "),a("li",[a("code",[t._v("triggerRef")]),t._v(" 强制更新页面 DOM。即使创建的 ref 没有变，想更新 dom 可以用")]),t._v(" "),a("li",[a("code",[t._v("customRef")]),t._v(" 提供类似于 computed 的 get 和 set，可自定义 ref 行为")])]),t._v(" "),a("h3",{attrs:{id:"_3-3-reactive"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-reactive"}},[t._v("#")]),t._v(" 3.3 reactive")]),t._v(" "),a("ul",[a("li",[t._v("reactive 用来创建"),a("code",[t._v("引用类型")]),t._v("的响应式数据")]),t._v(" "),a("li",[t._v("reactive 的本质是将每一层的数据都解析成"),a("code",[t._v("proxy对象")])]),t._v(" "),a("li",[t._v("reactive 的响应式默认都是"),a("code",[t._v("递归的")]),t._v("，改变某一层的值都会递归的调用一遍，重新渲染 dom。")]),t._v(" "),a("li",[a("code",[t._v("直接解构")]),t._v("，响应性会丢失，需要用"),a("code",[t._v("toRefs")]),t._v("包裹。引用类型直接改变引用地址也会导致响应式丢失")])]),t._v(" "),a("h4",{attrs:{id:"相关-api-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#相关-api-2"}},[t._v("#")]),t._v(" 相关 api")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("readonly")]),t._v(" 将 reactive 的值更改为只读")]),t._v(" "),a("li",[a("code",[t._v("shallowReactive")]),t._v(" 只能对浅层的数据响应 如果是深层的数据只会改变值 不会改变视图")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("import { reactive, toRefs } from 'vue'\n\nconst book = reactive({\n  author: 'Vue Team',\n  year: '2020',\n  title: 'Vue 3 Guide',\n  description: 'You are reading this book right now ;)',\n  price: 'free'\n})\n\nlet { author, title } = toRefs(book)\n\ntitle.value = 'Vue 3 Detailed Guide' // 我们需要使用 .value 作为标题，现在是 ref\nconsole.log(book.title) // 'Vue 3 Detailed Guide'\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br")])]),a("h3",{attrs:{id:"_3-4、生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4、生命周期"}},[t._v("#")]),t._v(" 3.4、生命周期")]),t._v(" "),a("p",[t._v("区别不大，把 setup 当 created 用，其它就当改了个名")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("<script setup lang=\"ts\">\nimport { onMounted } from 'vue';\n\nconst getUserInfo = () => {\n  console.log('获取用户信息');\n};\nonMounted(getUserInfo);\n<\/script>\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bdd4d01ec6794684ae46bfbfa96820c3~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("h3",{attrs:{id:"_3-5-watch-watcheffect"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-watch-watcheffect"}},[t._v("#")]),t._v(" 3.5 watch & watchEffect")]),t._v(" "),a("h4",{attrs:{id:"watch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#watch"}},[t._v("#")]),t._v(" watch")]),t._v(" "),a("ul",[a("li",[t._v("功能和 vue2 一致")]),t._v(" "),a("li",[t._v("watch(监听参数，变化回调，配置参数)")]),t._v(" "),a("li",[t._v("注意监听对象的单个属性："),a("code",[t._v("watch(() => articleInfo.author, (newVal) => {})")]),t._v(",第一个参数为箭头函数返回要监听的目标属性")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("import { ref, reactive, watch } from 'vue'\n\nconst counter1 = ref(0)\nconst counter2 = ref(0)\n// 监听多个\nwatch([counter1, counter2], (newValue, oldValue) => {\n  console.log('The new counter1 value is: ' + counter1.value)\n  console.log('The new counter2 value is: ' + counter2.value)\n})\n\nconst obj = reactive({\n  name: 'JJ',\n  age: 18\n})\n// 深度监听对象\nwatch(obj, (newValue, oldValue) => {\n  console.log('The new obj value is: ' + obj.value)\n}, {\n   deep: true,\n   immediate: true\n})\n// watch监听单个属性\nwatch(() => obj.name, (newValue, oldValue) => {\n  console.log('The new obj value is: ' + obj.value)\n}, {\n   deep: true,\n   immediate: true\n})\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br")])]),a("h4",{attrs:{id:"watcheffect"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#watcheffect"}},[t._v("#")]),t._v(" watchEffect")]),t._v(" "),a("ul",[a("li",[t._v("类似 React useEffect，但是不需要写依赖项，只要我们回调中引用了"),a("code",[t._v("响应式的属性")])]),t._v(" "),a("li",[t._v("和 watch 的区别：\n"),a("ul",[a("li",[t._v("同一个功能的两种不同形态，底层的实现是一样的")]),t._v(" "),a("li",[t._v("watch 可以获取到新值与旧值（更新前的值），而  "),a("code",[t._v("watchEffect")]),t._v("  是拿不到的。")]),t._v(" "),a("li",[t._v("watch - "),a("code",[t._v("显式")]),t._v("指定依赖源，watchEffect - "),a("code",[t._v("自动")]),t._v("收集依赖源")]),t._v(" "),a("li",[t._v("watchEffect 在组件初始化的时候就会执行一次用以收集依赖，watch 指定了依赖，所以不需要。")]),t._v(" "),a("li",[a("code",[t._v("可以理解为watchEffect 就是配置了{ immediate: true } 的watch")])])])]),t._v(" "),a("li",[t._v("使用场景："),a("code",[t._v("antfu小哥")]),t._v("：推荐在大部分时候用 watch 显式的指定依赖以避免不必要的重复触发，也避免在后续代码修改或重构时不小心引入新的依赖。watchEffect 适用于一些逻辑相对简单，依赖源和逻辑强相关的场景（或者懒惰的场景 ）。")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" stopWatch "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("watchEffect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oninvalidate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("oninvalidate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"前置校验函数"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引用了响应式的属性 count")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"watchEffect count变化"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 副作用刷新时机 flush 一般使用post")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可选：pre(组件更新前执行)/sync(强制效果始终同步触发)/post(组件更新后执行)")]),t._v("\n    flush"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"post"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 开发调试")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onTrigger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"开发调试"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br")])]),a("h3",{attrs:{id:"_3-6-computed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-computed"}},[t._v("#")]),t._v(" 3.6 computed")]),t._v(" "),a("ul",[a("li",[t._v("更加灵活，可以在定义响应式变量时声明")]),t._v(" "),a("li",[t._v("作用和 vue2 无差异")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("import { ref, computed } from 'vue'\n\nconst counter = ref(0)\nconst twiceTheCounter = computed(() => counter.value * 2)\n// get set写法\nconst plusOne = computed({\n  get: () => counter.value + 1,\n  set: (val) => {\n    counter.value = val - 1\n  },\n})\n\nplusOne.value = 1\nconsole.log(counter.value) // 0\n\ncounter.value++\nconsole.log(counter.value) // 1\nconsole.log(twiceTheCounter.value) // 2\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br")])]),a("h2",{attrs:{id:"四、组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、组件"}},[t._v("#")]),t._v(" 四、组件")]),t._v(" "),a("h3",{attrs:{id:"_4-1-异步组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-异步组件"}},[t._v("#")]),t._v(" 4.1 异步组件")]),t._v(" "),a("ul",[a("li",[t._v("通过进行引入 defineAsyncComponent")]),t._v(" "),a("li",[t._v("可配合 Suspense 进行更多操作，可用于 loading 和骨架屏相关，和 react Suspense 基本一致。不过 react Suspense 基本一致这个属性都不太好用，vue 的不清楚实际场景咋样")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// template")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Suspense"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template #"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("AsyncComponent"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("AsyncComponent"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("template"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template #fallback"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("loading"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("template"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Suspense"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// script")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" AsyncComponent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineAsyncComponent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./asyncComponent.vue'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br")])]),a("h3",{attrs:{id:"_4-2-teleport-传送组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-teleport-传送组件"}},[t._v("#")]),t._v(" 4.2 Teleport 传送组件")]),t._v(" "),a("p",[t._v("Teleport 是一种能够将我们的模板渲染至指定 DOM 节点，不受父级 style、v-show 等属性影响，但 data、prop 数据依旧能够共用的技术；类似于 "),a("code",[t._v("React 的 Portal")]),t._v("。之前写 react 是不怎么用这个属性，vue3 这个估计也没多大用。")]),t._v(" "),a("p",[t._v("主要解决的问题 因为 Teleport 节点挂载在其他指定的 DOM 节点下，完全不受父级 style 样式影响")]),t._v(" "),a("p",[t._v("to 属性 插入指定元素位置，body，html，自定义 className 等等")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Teleport to"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"body"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Loading"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Loading"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Teleport"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h3",{attrs:{id:"_4-3-keep-alive-缓存组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-keep-alive-缓存组件"}},[t._v("#")]),t._v(" 4.3 keep-alive 缓存组件")]),t._v(" "),a("ul",[a("li",[t._v("作用和 vue2 还是一样的，生命周期名称变了")]),t._v(" "),a("li",[t._v("初次进入时：onMounted> onActivated")]),t._v(" "),a("li",[t._v("退出后触发 deactivated")]),t._v(" "),a("li",[t._v("再次进入：只会触发 onActivated")])]),t._v(" "),a("h3",{attrs:{id:"_4-4-组件通信"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-组件通信"}},[t._v("#")]),t._v(" 4.4 组件通信")]),t._v(" "),a("h4",{attrs:{id:"definexxxx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#definexxxx"}},[t._v("#")]),t._v(" defineXxxx")]),t._v(" "),a("blockquote",[a("p",[t._v("defineXxxx 无需 import 即可直接使用")])]),t._v(" "),a("ul",[a("li",[t._v("defineProps 代替过去的 props")]),t._v(" "),a("li",[t._v("defineEmits 代替过去的$emit")]),t._v(" "),a("li",[t._v("defineOptions 自定义一些组件属性，比如组件名称（需要插件支持）")]),t._v(" "),a("li",[t._v("defineComponent 用于 render 函数、TSX、IDE 提醒等")]),t._v(" "),a("li",[t._v("defineExpose 子组件声明的数据，暴露给父组件直接用")])]),t._v(" "),a("h4",{attrs:{id:"provide-inject"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#provide-inject"}},[t._v("#")]),t._v(" provide/inject")]),t._v(" "),a("p",[t._v("和 vue2 一致")]),t._v(" "),a("h4",{attrs:{id:"vuex-pina"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vuex-pina"}},[t._v("#")]),t._v(" vuex & pina")]),t._v(" "),a("blockquote",[a("p",[t._v("两者用法，除了 pina 没有 Mutations，差别不大。但是官方推荐的东西，自然有它的各种优点")])]),t._v(" "),a("ul",[a("li",[t._v("Vuex： State、Gettes、Mutations(同步)、Actions(异步)")]),t._v(" "),a("li",[t._v("Pinia： State、Gettes、Actions(同步异步都支持)")]),t._v(" "),a("li",[t._v("Vuex4 用于 Vue3 ，Vuex3 用于 Vue2")]),t._v(" "),a("li",[t._v("Pinia2.x 即支持 Vue2 也支持 Vue3")])]),t._v(" "),a("h2",{attrs:{id:"五、ts-支持"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、ts-支持"}},[t._v("#")]),t._v(" 五、TS 支持")]),t._v(" "),a("ul",[a("li",[t._v("可以让写 react 的兄弟，快速上手写 vue3")]),t._v(" "),a("li",[t._v("react 中 {{}} => {}")]),t._v(" "),a("li",[t._v("兼容的指令：v-model，v-if，v-show")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ref "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" v "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ref "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" string "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("renderDom")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input v"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("model"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" renderDom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("h2",{attrs:{id:"六、插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、插件"}},[t._v("#")]),t._v(" 六、插件")]),t._v(" "),a("h3",{attrs:{id:"_6-1-开源插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-开源插件"}},[t._v("#")]),t._v(" 6.1 开源插件")]),t._v(" "),a("h4",{attrs:{id:"unplugin-auto-import-vite"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unplugin-auto-import-vite"}},[t._v("#")]),t._v(" unplugin-auto-import/vite")]),t._v(" "),a("p",[t._v("无需导入 xxx，"),a("code",[t._v('import { reactive,ref } from "vue";')]),t._v("，只需要用即可")]),t._v(" "),a("h4",{attrs:{id:"unplugin-vue-define-options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unplugin-vue-define-options"}},[t._v("#")]),t._v(" unplugin-vue-define-options")]),t._v(" "),a("p",[t._v("自定义组件名称，需要引入插件"),a("code",[t._v("unplugin-vue-define-options")]),t._v(",并在 vite 中配置")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" defineConfig "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vite"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" vue "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@vitejs/plugin-vue"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" DefineOptions "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unplugin-vue-define-options/vite"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineConfig")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("vue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DefineOptions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("不使用插件，也可以通过多写一个 script 标签来单独写 options")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script lang"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TButton"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script lang"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ts"')]),t._v(" setup"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineOptions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TButton'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("h3",{attrs:{id:"_6-2-vscode-插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-vscode-插件"}},[t._v("#")]),t._v(" 6.2 vscode 插件")]),t._v(" "),a("h4",{attrs:{id:"volar-vscode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#volar-vscode"}},[t._v("#")]),t._v(" volar vscode")]),t._v(" "),a("ul",[a("li",[t._v("vetur 只支持 vue2，volar 只支持 vue3，两者冲突。")]),t._v(" "),a("li",[t._v("建议禁用 vetur，格式化代码使用 prettier，本地使用 volar 做代码高亮。")]),t._v(" "),a("li",[t._v("或者通过项目配置，指定相关插件配置\n"),a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fb86434ae5e1431faeb4b392e2f81359~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})])]),t._v(" "),a("h2",{attrs:{id:"七、指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七、指令"}},[t._v("#")]),t._v(" 七、指令")]),t._v(" "),a("h3",{attrs:{id:"_7-1-v-model"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-v-model"}},[t._v("#")]),t._v(" 7.1 v-model")]),t._v(" "),a("ul",[a("li",[t._v("底层语法糖时间改变，之前 vue2 是 update:input，vue3 是 update:modelValue")]),t._v(" "),a("li",[t._v("支持多个 v-model")]),t._v(" "),a("li",[t._v("支持自定义修饰符")]),t._v(" "),a("li",[t._v("弃用.sync 等")])]),t._v(" "),a("h3",{attrs:{id:"_7-2-自定义指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-自定义指令"}},[t._v("#")]),t._v(" 7.2 自定义指令")]),t._v(" "),a("h4",{attrs:{id:"生命周期-和-vue3-一致"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生命周期-和-vue3-一致"}},[t._v("#")]),t._v(" 生命周期（和 vue3 一致）")]),t._v(" "),a("ul",[a("li",[t._v("created 元素初始化的时候")]),t._v(" "),a("li",[t._v("beforeMount 指令绑定到元素后调用 只调用一次")]),t._v(" "),a("li",[t._v("mounted 元素插入父级 dom 调用")]),t._v(" "),a("li",[t._v("beforeUpdate 元素被更新之前调用")]),t._v(" "),a("li",[t._v("update 这个周期方法被移除 改用 updated")]),t._v(" "),a("li",[t._v("beforeUnmount 在元素被移除前调用")]),t._v(" "),a("li",[t._v("unmounted 指令被移除后调用 只调用一次")])]),t._v(" "),a("h4",{attrs:{id:"自定义拖拽指令-v-move"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义拖拽指令-v-move"}},[t._v("#")]),t._v(" 自定义拖拽指令 v-move")]),t._v(" "),a("ul",[a("li",[t._v("比如这个 v-move 封装自定义拖拽指令")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Directive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" vMove"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Directive "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mounted")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" HTMLElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" moveEl "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("firstElementChild "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" HTMLElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("mouseDown")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" MouseEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//鼠标点击物体那一刻相对于物体左侧边框的距离=点击时的位置相对于浏览器最左边的距离-物体左边框相对于浏览器最左边的距离")]),t._v("\n      console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientX"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-----起始"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetLeft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("X")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientX "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetLeft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientY "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetTop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("move")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" MouseEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("left "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientX "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("X")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"px"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("top "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientY "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"px"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientX"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"---改变"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mousemove"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" move"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mouseup"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mousemove"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" move"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    moveEl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mousedown"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mouseDown"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br")])]),a("h2",{attrs:{id:"八、hook"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#八、hook"}},[t._v("#")]),t._v(" 八、Hook")]),t._v(" "),a("p",[t._v("用了 react hook 的人都知道很香，vue3 支持这个相当不错，能解决很多业务场景的封装")]),t._v(" "),a("h3",{attrs:{id:"_8-1-自定义-hook"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-自定义-hook"}},[t._v("#")]),t._v(" 8.1 自定义 Hook")]),t._v(" "),a("p",[t._v("可以当做 mixins 写")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// useWindowResize")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" onMounted"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" onUnmounted"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ref "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useWindowResize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" width "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" height "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onResize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    width"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerWidth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    height"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onMounted")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"resize"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" onResize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onResize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onUnmounted")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"resize"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" onResize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    width"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    height"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" useWindowResize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br")])]),a("h3",{attrs:{id:"_8-2-hook-库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-hook-库"}},[t._v("#")]),t._v(" 8.2 hook 库")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/vueuse/vueuse",target:"_blank",rel:"noopener noreferrer"}},[t._v("vueuse"),a("OutboundLink")],1),t._v(" 官方，感谢评论区"),a("a",{attrs:{href:"https://juejin.cn/user/3438928104002856",target:"_blank",rel:"noopener noreferrer"}},[t._v("@rogepi"),a("OutboundLink")],1),t._v(" 小哥的提醒")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://dewfall123.github.io/ahooks-vue/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ahooks-vue"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/yanzhandong/v3hooks",target:"_blank",rel:"noopener noreferrer"}},[t._v("v3hooks"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"_8-3-react-vs-vue3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-3-react-vs-vue3"}},[t._v("#")]),t._v(" 8.3 react vs vue3")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/133819602",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue3 究竟好在哪里？（和 React Hook 的详细对比）ssh-晨曦时梦见兮"),a("OutboundLink")],1),a("br"),t._v(" "),a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b1edbef1b8c740af9d6655035157ec42~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})])]),t._v(" "),a("h2",{attrs:{id:"九、结语"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#九、结语"}},[t._v("#")]),t._v(" 九、结语")]),t._v(" "),a("ul",[a("li",[t._v("Vue3 的依赖追踪是全自动的，不需要担心传了错误的依赖数组给 useEffect/useMemo/useCallback 从而导致回调中- 使用了过期的值")]),t._v(" "),a("li",[t._v("Vue3 Hook 也没 React Hook 那么多限制，后续用用看怎么样")]),t._v(" "),a("li",[t._v("个人比较喜欢 SFC 语法，html、js、css 分离开")])]),t._v(" "),a("blockquote",[a("p",[t._v("笔者 vue3 也刚用不久，如有错误，还请兄弟们指出")])]),t._v(" "),a("p",[t._v("本文所有 demo 都在该仓库中"),a("a",{attrs:{href:"https://github.com/alexwjj/jj-ui",target:"_blank",rel:"noopener noreferrer"}},[t._v("JJ-UI 一款 Vue3 组件库"),a("OutboundLink")],1),t._v("，参考大佬文章刚刚搭建好，后续会基于这个架子开发自己的 vue3 组件库")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8003d0ab1b2540cdb5cb2e7b2461dbcd~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("h2",{attrs:{id:"十、参考文章"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#十、参考文章"}},[t._v("#")]),t._v(" 十、参考文章")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://blog.csdn.net/qq1195566313/category_11618172.html?spm=1001.2014.3001.5482",target:"_blank",rel:"noopener noreferrer"}},[t._v("小满 zs vue3 讲解系列 B 站有视频"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.yisu.com/zixun/604877.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue3.0 中 Ref 与 Reactive 的区别是什么"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/weixin_47450807/article/details/123478024",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue3.0 的优化"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6892295955844956167",target:"_blank",rel:"noopener noreferrer"}},[t._v("（建议收藏）Vue3 对比 Vue2.x 差异性、注意点、整体梳理，与 React hook 比又如何？（面试热点）"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6895213945997492238",target:"_blank",rel:"noopener noreferrer"}},[t._v("为什么 Vue3 的 ref 让很多大佬操碎了心？"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"十一、往期推荐"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#十一、往期推荐"}},[t._v("#")]),t._v(" 十一、往期推荐")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://juejin.cn/post/7116715255404691493/",target:"_blank",rel:"noopener noreferrer"}},[t._v("聊一聊 web 图片小知识 "),a("OutboundLink")],1),t._v(" 50+ 👍🏿")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/7098173433548111885",target:"_blank",rel:"noopener noreferrer"}},[t._v("【逃离一线】被裁后的面经与感慨"),a("OutboundLink")],1),t._v(" 350+ 👍🏿")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6985030118758416391",target:"_blank",rel:"noopener noreferrer"}},[t._v("一篇搞定【web 打印】知识点"),a("OutboundLink")],1),t._v(" 90+ 👍🏿")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/editor/drafts/6979800157164404767",target:"_blank",rel:"noopener noreferrer"}},[t._v("一篇够用的 TypeScript 总结"),a("OutboundLink")],1),t._v(" 800+ 👍🏿")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6960556335092269063",target:"_blank",rel:"noopener noreferrer"}},[t._v("一名 vueCoder 总结的 React 基础"),a("OutboundLink")],1),t._v(" 240+ 👍🏿")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6953482028188860424",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue 转 React 不完全指北"),a("OutboundLink")],1),t._v(" 900+ 👍🏿")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6942988170208215076",target:"_blank",rel:"noopener noreferrer"}},[t._v("跳槽人速来，面经&资源分享"),a("OutboundLink")],1),t._v(" 1300+ 👍🏿")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6940058373534515237",target:"_blank",rel:"noopener noreferrer"}},[t._v("一年半前端人的求职路"),a("OutboundLink")],1),t._v(" 350+ 👍🏿")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6921911974611664903",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue2.x 高阶问题，你能答多少"),a("OutboundLink")],1),t._v(" 500+ 👍🏿")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6921911974611664903",target:"_blank",rel:"noopener noreferrer"}},[t._v("聊一聊前端性能优化"),a("OutboundLink")],1),t._v(" 1700+ 👍🏿")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6907500437134376974",target:"_blank",rel:"noopener noreferrer"}},[t._v("Egg + Puppeteer 实现 Html 转 PDF(已开源)"),a("OutboundLink")],1),t._v(" 70+ 👍🏿")])]),t._v(" "),a("h2",{attrs:{id:"十二、求赞、求三连"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#十二、求赞、求三连"}},[t._v("#")]),t._v(" 十二、求赞、求三连")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9a5788cc8d694af3beac8fd0a885b02e~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("p",[t._v("我正在参与掘金技术社区创作者签约计划招募活动，"),a("a",{attrs:{href:"https://juejin.cn/post/7112770927082864653",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击链接报名投稿"),a("OutboundLink")],1),t._v("。")])])}),[],!1,null,null,null);s.default=e.exports}}]);