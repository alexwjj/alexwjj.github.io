(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{634:function(e,t,a){"use strict";a.r(t);var s=a(7),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",{attrs:{align:"center"}},[a("img",{attrs:{width:"500",src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2d32c1b0135a4c1583fd02e45f0496b1~tplv-k3u1fbpfcp-watermark.image"}})]),e._v(" "),a("blockquote",[a("p",[e._v("è¦ä¸€ç›´å‘ä¸Šï¼Œè¦ä¿æŒæ»¡è…”çš„çƒ­è¡€")])]),e._v(" "),a("h2",{attrs:{id:"èƒŒæ™¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#èƒŒæ™¯"}},[e._v("#")]),e._v(" èƒŒæ™¯")]),e._v(" "),a("p",[e._v("é¡¹ç›®ç»„æœ‰ä¸ªç±»ä¼¼å¯Œæ–‡æœ¬ç¼–è¾‘å™¨åŠŸèƒ½ï¼Œåœ¨IEæµè§ˆå™¨ä¸‹éœ€è¦æ”¯æŒæ‰“å°ã€‚ä¸ºè§£å†³æ‰“å°å…¼å®¹æ€§é—®é¢˜ï¼Œéœ€è¦ä¸€å¥—æ ¹æ®Htmlè¾“å‡ºPDFçš„æœåŠ¡ã€‚")]),e._v(" "),a("p",[e._v("so, æƒ³ç›´æ¥çœ‹ç»“æœçš„ï¼š "),a("a",{attrs:{href:"http://118.25.49.69",target:"_blank",rel:"noopener noreferrer"}},[e._v("Htmlè½¬PDF åœ¨çº¿é¢„è§ˆ"),a("OutboundLink")],1),e._v("  ğŸ˜ğŸ˜ğŸ˜")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/363c0d41e7964058a1cb5cda7d97b24b~tplv-k3u1fbpfcp-watermark.image",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"è°ƒç ”"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è°ƒç ”"}},[e._v("#")]),e._v(" è°ƒç ”")]),e._v(" "),a("p",[e._v("htmlè½¬pdfæ–¹æ¡ˆæœ‰å¾ˆå¤šï¼Œæ€ä¹ˆé€‰æ‹©ä¹Ÿçœ‹å„ä½çš„å…·ä½“æƒ…å†µ")]),e._v(" "),a("h3",{attrs:{id:"_1ã€chromeæµè§ˆå™¨è‡ªå¸¦"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€chromeæµè§ˆå™¨è‡ªå¸¦"}},[e._v("#")]),e._v(" 1ã€chromeæµè§ˆå™¨è‡ªå¸¦")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a79c4d31f122416ab0e6046be3da88a8~tplv-k3u1fbpfcp-watermark.image",alt:""}})]),e._v(" "),a("h4",{attrs:{id:"ç¼ºç‚¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¼ºç‚¹"}},[e._v("#")]),e._v(" ç¼ºç‚¹ï¼š")]),e._v(" "),a("ul",[a("li",[e._v("éœ€è¦ç”¨æˆ·è‡ªå·±ç‚¹å‡»")]),e._v(" "),a("li",[e._v("ç”¨æˆ·éœ€è¦ä½¿ç”¨chromeç­‰æ”¯æŒçš„æµè§ˆå™¨")]),e._v(" "),a("li",[e._v("æ‰“å°é»˜è®¤æ˜¯å…¨å±€æ‰“å°\n"),a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/de59bb0fb31c48608b2d32f0f6aea9f6~tplv-k3u1fbpfcp-watermark.image",alt:""}})])]),e._v(" "),a("p",[a("strong",[e._v("å¹¿å‘Š")]),e._v("ï¼šå±€éƒ¨æ‰“å°å¯ä»¥å‚è€ƒæˆ‘çš„æ’ä»¶ğŸ˜ğŸ˜ğŸ˜: "),a("a",{attrs:{href:"https://github.com/alexwjj/vue-iframe-print",target:"_blank",rel:"noopener noreferrer"}},[e._v("vue-iframe-print"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("code",[e._v("npm install vue-iframe-print")]),e._v(" åœ¨éœ€è¦æ‰“å°çš„DOMä¸ŠåŠ ä¸Š"),a("code",[e._v("v-print")]),e._v("å³å¯å®ç°å±€éƒ¨æ‰“å°")]),e._v(" "),a("h3",{attrs:{id:"_2ã€html2canvas-jspdf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€html2canvas-jspdf"}},[e._v("#")]),e._v(" 2ã€html2canvas + jsPdf")]),e._v(" "),a("p",[e._v("å®ç°å¯å‚è€ƒï¼š"),a("a",{attrs:{href:"https://segmentfault.com/a/1190000009211079",target:"_blank",rel:"noopener noreferrer"}},[e._v("Javascript å°†htmlè½¬æˆpdf,ä¸‹è½½,æ”¯æŒå¤šé¡µå“¦ï¼ˆhtml2canvas å’Œ jsPDFï¼‰"),a("OutboundLink")],1)]),e._v(" "),a("h4",{attrs:{id:"ç¼ºç‚¹-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¼ºç‚¹-2"}},[e._v("#")]),e._v(" ç¼ºç‚¹ï¼š")]),e._v(" "),a("ul",[a("li",[e._v("html2canvasæ’ä»¶åœ¨IEçš„å…¼å®¹æ€§é—®é¢˜")]),e._v(" "),a("li",[e._v("æ¸…æ™°åº¦é—®é¢˜")]),e._v(" "),a("li",[e._v("åˆ†é¡µé—®é¢˜")]),e._v(" "),a("li",[e._v("æ–‡å­—å›¾ç‰‡æˆªæ–­é—®é¢˜")])]),e._v(" "),a("h3",{attrs:{id:"_3ã€nodeæœåŠ¡ç«¯è½¬æ¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€nodeæœåŠ¡ç«¯è½¬æ¢"}},[e._v("#")]),e._v(" 3ã€nodeæœåŠ¡ç«¯è½¬æ¢")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://wkhtmltopdf.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("wkthtmltopdf"),a("OutboundLink")],1),e._v(" å‘è¾ƒå¤š~")]),e._v(" "),a("li",[a("a",{attrs:{href:"http://amirraminfar.com/phantomjs-node/#/",target:"_blank",rel:"noopener noreferrer"}},[e._v("phantomjs"),a("OutboundLink")],1),e._v("  åŸºäºwebkitçš„æ— å¤´æµè§ˆå™¨,ç¤¾åŒºä½¿ç”¨çš„ä¸å¤šï¼Œå¾ˆä¹…æ²¡æ›´æ–°äº†ï¼Œå¯ä»¥æ·±åº¦äº†è§£ä¸‹")]),e._v(" "),a("li",[a("a",{attrs:{href:"https://zhaoqize.github.io/puppeteer-api-zh_CN/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Puppeteer"),a("OutboundLink")],1),e._v(" + Headless Chrome  ç¤¾åŒºé‡Œä½¿ç”¨è¯¥æ–¹æ¡ˆçš„ä¹Ÿæ¯”è¾ƒå¤š")])]),e._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/96cd59cc46834b22a7b3c3dd2ba864c7~tplv-k3u1fbpfcp-watermark.image",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"é€‰ç”¨egg-puppeteer-ğŸ˜‰ğŸ˜‰ğŸ˜‰"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é€‰ç”¨egg-puppeteer-ğŸ˜‰ğŸ˜‰ğŸ˜‰"}},[e._v("#")]),e._v(" é€‰ç”¨Egg + Puppeteer ğŸ˜‰ğŸ˜‰ğŸ˜‰")]),e._v(" "),a("p",[e._v("å¦‚æœä½ æƒ³è‡ªå·±é‡å¤´å¼€å§‹æ­å»ºï¼Œå¯ä»¥å‚è€ƒï¼š"),a("a",{attrs:{href:"https://blog.csdn.net/zhai_865327/article/details/104792646",target:"_blank",rel:"noopener noreferrer"}},[e._v("puppeteer ç”Ÿæˆpdfï¼Œç»å¯¹è§£å†³ä½ çš„éœ€æ±‚"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"éƒ¨ç½²-æ•²é»‘æ¿-â—â—â—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#éƒ¨ç½²-æ•²é»‘æ¿-â—â—â—"}},[e._v("#")]),e._v(" éƒ¨ç½²ï¼ˆæ•²é»‘æ¿ï¼‰â—â—â—")]),e._v(" "),a("p",[e._v("å½“ä½ å·²ç»å®Œæˆäº†åŸºæœ¬åŠŸèƒ½ä»¥åï¼Œé«˜é«˜å…´å…´çš„ä»¥ä¸ºå°±å‰©ä¸‹æœ€åä¸€æ­¥äº†ï¼Œé‚£ä¹ˆå‘æ¥äº†~")]),e._v(" "),a("h3",{attrs:{id:"_1ã€åœ¨-docker-ä¸­ä½¿ç”¨-puppeteer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€åœ¨-docker-ä¸­ä½¿ç”¨-puppeteer"}},[e._v("#")]),e._v(" 1ã€åœ¨ Docker ä¸­ä½¿ç”¨ Puppeteer")]),e._v(" "),a("p",[e._v("å®˜æ–¹æ–‡æ¡£æŒ‡å‡ºâ€œåœ¨ Docker ä¸­ä½¿ç”¨ headless Chrome å¹¶ä½¿å…¶è¿è¡Œèµ·æ¥å¯èƒ½ä¼šéå¸¸æ£˜æ‰‹â€ã€‚å®˜æ–¹æ–‡æ¡£æœ‰"),a("a",{attrs:{href:"https://github.com/puppeteer/puppeteer/blob/main/docs/troubleshooting.md#running-puppeteer-in-docker",target:"_blank",rel:"noopener noreferrer"}},[e._v("ç–‘éš¾è§£ç­”éƒ¨åˆ†"),a("OutboundLink")],1),e._v("ï¼Œä½ å¯ä»¥æ‰¾åˆ°æœ‰å…³ç”¨ Docker å®‰è£… puppeteer çš„æ‰€æœ‰å¿…è¦ä¿¡æ¯ã€‚")]),e._v(" "),a("p",[e._v("å¦‚æœä½ åœ¨ Alpine é•œåƒä¸Šå®‰è£… Puppeteerï¼Œè¯·ç¡®ä¿åœ¨çœ‹åˆ°é¡µé¢çš„è¿™ä¸€éƒ¨åˆ†æ—¶å†å‘ä¸‹æ»šåŠ¨ä¸€ç‚¹ã€‚å¦åˆ™ä½ å¯èƒ½ä¼šå¿½ç•¥ä¸€ä¸ªäº‹å®ï¼šä½ æ— æ³•è¿è¡Œæœ€æ–°çš„ Puppeteer ç‰ˆæœ¬ï¼Œå¹¶ä¸”ä½ è¿˜éœ€è¦ç”¨ä¸€ä¸ªæ ‡è®°ç¦ç”¨ shm")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const browser = await puppeteer.launch({\n headless: true,\n args: ['--disable-dev-shm-usage']\n});\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("p",[e._v("å¦åˆ™ï¼ŒPuppeteer å­è¿›ç¨‹å¯èƒ½ä¼šåœ¨æ­£å¸¸å¯åŠ¨ä¹‹å‰è€—å°½å†…å­˜ã€‚")]),e._v(" "),a("h3",{attrs:{id:"_2ã€åœ¨centosä¸­éƒ¨ç½²"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€åœ¨centosä¸­éƒ¨ç½²"}},[e._v("#")]),e._v(" 2ã€åœ¨centOSä¸­éƒ¨ç½²")]),e._v(" "),a("h3",{attrs:{id:"ç¬¬ä¸€æ­¥-å®‰è£…chrome"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬ä¸€æ­¥-å®‰è£…chrome"}},[e._v("#")]),e._v(" ç¬¬ä¸€æ­¥ï¼šå®‰è£…chrome")]),e._v(" "),a("p",[e._v("å› ä¸ºæ˜¯ç›´æ¥ä½¿ç”¨çš„PuppeteeråŒ…ï¼Œéœ€è¦ä¾èµ–äºchromeå†…æ ¸ï¼Œæ‰€ä»¥ä½ åœ¨å¯åŠ¨é¡¹ç›®"),a("code",[e._v("npm install")]),e._v(" çš„æ—¶å€™ä¼šä¸€ç›´å¡åœ¨"),a("code",[e._v("node install.js")]),e._v("è¿™é‡Œï¼Œå› ä¸ºchinaç½‘ç»œé—®é¢˜å’Œchromeå¤ªå¤§ï¼Œä½ å¾ˆéš¾åœ¨æœåŠ¡å™¨ä¸Šç›´æ¥éƒ¨ç½²æˆåŠŸã€‚")]),e._v(" "),a("p",[e._v("puppeteeræ”¯æŒæœ¬åœ°chromeå®‰è£…é“¾æ¥ï¼Œæ‰€ä»¥å¯ä»¥æ‰‹åŠ¨æŒ‡å®š")]),e._v(" "),a("p",[e._v("è·³è¿‡chromeå®‰è£…ï¼š"),a("code",[e._v("npm install puppeteer --ignore-scripts")])]),e._v(" "),a("p",[e._v("chromeå®‰è£…å…·ä½“å¯å‚è€ƒï¼š"),a("a",{attrs:{href:"https://blog.csdn.net/Zeng__Yi/article/details/105661354",target:"_blank",rel:"noopener noreferrer"}},[e._v("é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼ˆcentos7ï¼‰çš„ä½¿ç”¨ï¼ˆ7ï¼‰ä¸€Puppeteerå¯¼å‡ºPDFçš„éƒ¨ç½²å’Œä½¿ç”¨"),a("OutboundLink")],1)]),e._v(" "),a("h4",{attrs:{id:"å‘å‡ºæ²¡-warning"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‘å‡ºæ²¡-warning"}},[e._v("#")]),e._v(" å‘å‡ºæ²¡ï¼Œwarning~")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const browser = await puppeteer.launch({\n      args: ['--disable-dev-shm-usage', '--no-sandbox'],\n      headless:true,\n      // linux chromeçš„é»˜è®¤å®‰è£…è·¯å¾„\n      executablePath:'/opt/google/chrome/chrome'\n  });\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br")])]),a("p",[e._v("è¿™é‡Œå†™çš„puppeteerå¯åŠ¨è·¯å¾„"),a("code",[e._v("executablePath")]),e._v("æ˜¯linuxä¸‹chromeçš„å®‰è£…è·¯å¾„ï¼Œå¦‚æœæ¢äº†æœ¬åœ°ï¼Œä¸åŒçš„ç³»ç»Ÿå¯¹åº”çš„è·¯å¾„å¯èƒ½éƒ½ä¸ä¸€æ ·~  åƒè¾›ä¸‡è‹¦æ‰¾äº†ä¸€ä¸ªåŒ…ï¼Œå¾ˆå¥½ç”¨~ "),a("code",[e._v("npm install carlo")])]),e._v(" "),a("p",[e._v("å…³äº"),a("code",[e._v("carlo")]),e._v("ï¼Œå¯ä»¥å»äº†è§£ä¸‹ï¼š"),a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/48319397",target:"_blank",rel:"noopener noreferrer"}},[e._v("ã€Carloã€ ä¸€ä¸ªæ–°çš„ Electron ?"),a("OutboundLink")],1)]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("'use strict';\nconst puppeteer = require('puppeteer');\n\nconst findChrome = require('../../node_modules/carlo/lib/find_chrome');\n\nlet browser = null;\n\nmodule.exports = async () => {\n  if (!browser) {\n    const findChromePath = await findChrome({});\n    // browser = await puppeteer.launch();\n    browser = await puppeteer.launch({\n      headless: true,\n      // chromeçš„é»˜è®¤å®‰è£…è·¯å¾„\n      executablePath: findChromePath.executablePath,\n      args: [\n        '--disable-gpu',\n        '--disable-dev-shm-usage',\n        '--disable-setuid-sandbox',\n        '--no-first-run',\n        '--no-sandbox',\n        '--no-zygote',\n        '--single-process',\n      ],\n    });\n  }\n  return browser;\n};\n\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br"),a("span",{staticClass:"line-number"},[e._v("18")]),a("br"),a("span",{staticClass:"line-number"},[e._v("19")]),a("br"),a("span",{staticClass:"line-number"},[e._v("20")]),a("br"),a("span",{staticClass:"line-number"},[e._v("21")]),a("br"),a("span",{staticClass:"line-number"},[e._v("22")]),a("br"),a("span",{staticClass:"line-number"},[e._v("23")]),a("br"),a("span",{staticClass:"line-number"},[e._v("24")]),a("br"),a("span",{staticClass:"line-number"},[e._v("25")]),a("br"),a("span",{staticClass:"line-number"},[e._v("26")]),a("br"),a("span",{staticClass:"line-number"},[e._v("27")]),a("br"),a("span",{staticClass:"line-number"},[e._v("28")]),a("br"),a("span",{staticClass:"line-number"},[e._v("29")]),a("br")])]),a("h3",{attrs:{id:"ç¬¬äºŒæ­¥-éƒ¨ç½²è„šæœ¬"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬äºŒæ­¥-éƒ¨ç½²è„šæœ¬"}},[e._v("#")]),e._v(" ç¬¬äºŒæ­¥ï¼šéƒ¨ç½²è„šæœ¬")]),e._v(" "),a("p",[e._v("è™½ç„¶eggæœ‰è‡ªå·±çš„è¿›ç¨‹ç®¡ç†ï¼Œä½†æ˜¯è¿™é‡Œè¿˜æ˜¯æ¨èä½¿ç”¨pm2ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹")]),e._v(" "),a("p",[e._v("æ–°å»º deploy.sh")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# éƒ¨ç½²è„šæœ¬\ntype node\nnpm install puppeteer --ignore-scripts\nnpm install\npm2 kill\n# ç¡çœ ï¼Œé¿å…å‡ºç°é”™è¯¯ï¼šSpawning PM2 daemon with pm2_home\nsleep 2\npm2 start pm2.config.json\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br")])]),a("p",[e._v("æ–°å»º pm2.config.json")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n  "apps": [\n    {\n      "name": "html-to-pdf",\n      "script": "npm",\n      "args": "run start",\n      "log_date_format": "YYYY-MM-DD HH:mm:ss",\n      "exec_mode": "fork",\n      "max_memory_restart": "500M"\n    }\n  ]\n}\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br")])]),a("h3",{attrs:{id:"ä¸€åˆ‡å°±ç»ª-å¯åŠ¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€åˆ‡å°±ç»ª-å¯åŠ¨"}},[e._v("#")]),e._v(" ä¸€åˆ‡å°±ç»ªï¼Œå¯åŠ¨ï¼ï¼ï¼")]),e._v(" "),a("p",[e._v("åœ¨æœåŠ¡å™¨çš„é¡¹ç›®ä¸­æ‰§è¡Œ"),a("code",[e._v("sh deploy.sh")]),e._v(", pm2æ˜¾ç¤ºå¯åŠ¨æˆåŠŸå³å¯")]),e._v(" "),a("p",[e._v("è¿™ä¸ªæ—¶å€™æœåŠ¡æ˜¯æ²¡é—®é¢˜äº†ï¼Œä½†æ˜¯å…¶ä»–é—®é¢˜å°±æ¥äº†ï¼Œå› ä¸ºæœåŠ¡å™¨ä¸Šæ˜¯æ²¡æœ‰ä¸­æ–‡å­—ä½“åº“çš„~æ‰€ä»¥ç”Ÿæˆçš„pdfï¼Œä¸­æ–‡å­—ä½“å…¨æ˜¯ä¹±ç ")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1eecfaf7894f4666b1399d3320832291~tplv-k3u1fbpfcp-watermark.image",alt:""}})]),e._v(" "),a("h3",{attrs:{id:"ç¬¬ä¸‰æ­¥-å®‰è£…å­—ä½“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬ä¸‰æ­¥-å®‰è£…å­—ä½“"}},[e._v("#")]),e._v(" ç¬¬ä¸‰æ­¥ï¼šå®‰è£…å­—ä½“")]),e._v(" "),a("p",[e._v("ä¸€ã€å®‰è£…fontconfig\n"),a("code",[e._v("yum -y install fontconfig")]),e._v("\nè¿™ä¸ªå‘½ä»¤æ‰§è¡Œå®Œæˆä¹‹åï¼Œå°±å¯ä»¥åœ¨"),a("code",[e._v("/usr/share")]),e._v("æ–‡ä»¶å¤¹é‡Œé¢çœ‹åˆ°fontså’Œfontconfig\näºŒã€æ·»åŠ ä¸­æ–‡å­—ä½“åº“")]),e._v(" "),a("ul",[a("li",[e._v("ä»windowçš„"),a("code",[e._v("C:\\Windows\\Fonts")]),e._v("é‡Œé¢å­—ä½“æ‹·è´ä¸€ä»½ï¼Œæˆ–è€…åªé€‰æ‹©ä½ éœ€è¦çš„")]),e._v(" "),a("li",[e._v("åœ¨CentOSçš„"),a("code",[e._v("/usr/share/fonts")]),e._v("æ–°å»ºä¸€ä¸ªå«chineseçš„æ–‡ä»¶å¤¹")]),e._v(" "),a("li",[e._v("ç„¶åæŠŠåˆšåˆšæ‹·è´å­—ä½“æ”¾åˆ°CentOSçš„"),a("code",[e._v("/usr/share/fonts/chinese")]),e._v("é‡Œé¢")]),e._v(" "),a("li",[e._v("ä¿®æ”¹chineseç›®å½•çš„æƒé™ã€‚"),a("code",[e._v("chmod -R 775 /usr/share/fonts/chinese")])]),e._v(" "),a("li",[e._v("æ¥ä¸‹æ¥éœ€è¦å®‰è£…"),a("code",[e._v("ttmkfdir")]),e._v("æ¥æœç´¢ç›®å½•ä¸­æ‰€æœ‰çš„å­—ä½“ä¿¡æ¯ï¼Œå¹¶æ±‡æ€»ç”Ÿæˆfonts.scaleæ–‡ä»¶ï¼Œè¾“å…¥å‘½ä»¤"),a("code",[e._v("yum -y install ttmkfdir")])]),e._v(" "),a("li",[e._v("æ‰§è¡Œttmkfdirå‘½ä»¤ï¼Œ "),a("code",[e._v("ttmkfdir -e /usr/share/X11/fonts/encodings/encodings.dir")])]),e._v(" "),a("li",[e._v("æ‰“å¼€å­—ä½“é…ç½®æ–‡ä»¶ï¼Œ"),a("code",[e._v("vi /etc/fonts/fonts.conf")]),e._v("ï¼Œæ·»åŠ ä¸‹é¢è¿™ä¸€æ®µ")])]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("\x3c!-- Font directory list --\x3e\n<dir>/usr/share/fonts</dir>\n<dir>/usr/share/X11/fonts/Type1</dir>\n<dir>/usr/share/X11/fonts/TTF</dir>\n<dir>/usr/local/share/fonts</dir>\n<dir>/usr/local/share/fonts/chinese</dir>\n<dir>~/.fonts</dir>\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("ul",[a("li",[e._v("åˆ·æ–°å†…å­˜ä¸­çš„å­—ä½“ç¼“å­˜ï¼Œfc-cache")]),e._v(" "),a("li",[e._v("çœ‹ä¸€ä¸‹ç°åœ¨æœºå™¨ä¸Šå·²ç»æœ‰äº†åˆšæ‰æ·»åŠ çš„å­—ä½“ã€‚fc-list :lang=zh")])]),e._v(" "),a("h2",{attrs:{id:"å¤§åŠŸå‘Šæˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¤§åŠŸå‘Šæˆ"}},[e._v("#")]),e._v(" å¤§åŠŸå‘Šæˆ")]),e._v(" "),a("p",[e._v("è¿™ä¸ªæ—¶å€™åŸºæœ¬å°±æ²¡é—®é¢˜äº†, åç»­é‡åˆ°çš„é—®é¢˜å†æ›´æ–°ã€‚")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/967055123abf44c794f39a474474e041~tplv-k3u1fbpfcp-watermark.image",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"æœ€å-ieåŠ è½½pdf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœ€å-ieåŠ è½½pdf"}},[e._v("#")]),e._v(" æœ€åï¼šIEåŠ è½½PDF")]),e._v(" "),a("p",[e._v("éœ€è¦å®‰è£…ä¸‹adobe reader\n"),a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c649e383990e4f3787516bbba6a8f44f~tplv-k3u1fbpfcp-watermark.image",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"å‚è€ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒ"}},[e._v("#")]),e._v(" å‚è€ƒ")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000009211079",target:"_blank",rel:"noopener noreferrer"}},[e._v("Javascript å°†htmlè½¬æˆpdf,ä¸‹è½½,æ”¯æŒå¤šé¡µå“¦ï¼ˆhtml2canvas å’Œ jsPDFï¼‰"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6844903612993241101",target:"_blank",rel:"noopener noreferrer"}},[e._v("htmlè½¬PDFæ–‡ä»¶ï¼Œå®Œç¾è§£å†³æ–¹æ¡ˆâ€”â€”jsPDF,htmltocanvas,pdfmake,wkhtmltopdf,TuesPechkin,snappy"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/158204817",target:"_blank",rel:"noopener noreferrer"}},[e._v("åˆ©ç”¨puppeteerå’Œegg.jså®ç°html2pdfã€html2pngã€‚"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://zhaoqize.github.io/puppeteer-api-zh_CN/#?product=Puppeteer&version=v5.5.0&show=api-pagepdfoptions",target:"_blank",rel:"noopener noreferrer"}},[e._v("page.pdf([options])"),a("OutboundLink")],1)])]),e._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dec3b75bd7a24e4bbbc89040d69ec311~tplv-k3u1fbpfcp-watermark.image",alt:""}})])])}),[],!1,null,null,null);t.default=r.exports}}]);