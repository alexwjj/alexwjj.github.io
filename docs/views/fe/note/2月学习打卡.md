---
title: ã€æ¯æ—¥å­¦ä¹ æ‰“å¡ã€‘2.7
sidebar: "auto"
date: 2021-02-06
tags:
  - å­¦ä¹ æ‰“å¡
categories:
  - å­¦ä¹ æ‰“å¡
---

> æŠŠè‡ªå·±å½“åš 30 å²æ¥æ´»ï¼Œ30 å²çš„è‡ªå·±ä¼šæ„Ÿè°¢ 24 å²çš„ä½ ï¼ŒåŠ æ²¹ ğŸ†™

<!-- more -->

<!-- :::tip
::: -->
## è¿‡å¹´åœ¨æ­å·è®¡åˆ’ 9å¤©
- vue3 + TS  å®ç°éƒ¨åˆ†å½“å‰ä¸šåŠ¡é€»è¾‘
- react hooks + TS  å®ç°éƒ¨åˆ†å½“å‰ä¸šåŠ¡é€»è¾‘
- webpack æºç 
- ç®—æ³•æ‰“å¡10é¢˜
- æµè§ˆå™¨åŸç†å­¦ä¹ +æ–‡ç« è¾“å‡º

<!-- ## ç›®å½•
[[toc]] -->
<!-- ## è®¡åˆ’ä¸­
- webpackç³»ç»Ÿæ€§å­¦ä¹ 
- babel
- typescriptåº”ç”¨åˆ°å¾®æœåŠ¡ä¸­
- è®¡ç®—æœºç½‘ç»œç³»ç»Ÿæ€§å¤ä¹ ï¼Œæ¯•ç«Ÿä¸“ä¸š
- vite
- lodashæºç åŠ å…¥å­¦ä¹ è®¡åˆ’
- æ­£åˆ™è¡¨è¾¾å¼  -->
<!-- ## è®¡åˆ’ -->
<!-- ### æµè§ˆå™¨å†…éƒ¨æœºåˆ¶ -->
## 2.8

### git rebase
- åˆå¹¶å¤šæ¬¡commitè®°å½•`git rebase -i HEAD~4` æ³¨æ„ä¸è¦åˆå¹¶å…ˆå‰æäº¤çš„ä¸œè¥¿ï¼Œä¹Ÿå°±æ˜¯å·²ç»æäº¤è¿œç¨‹åˆ†æ”¯çš„çºªå½•
- åˆå¹¶åˆ†æ”¯ `git rebase master`,ç›¸æ¯”è¾ƒ`git merge master` ä¼šå»é™¤ä¸€äº›mergeè®°å½•ï¼Œåˆ†æ”¯è®°å½•æ›´å¹²å‡€
- `git rebase â€”abort` åˆ†æ”¯ä¼šå›åˆ° rebase å¼€å§‹å‰çš„çŠ¶æ€
- `git-rebase` å­˜åœ¨çš„ä»·å€¼æ˜¯ï¼šå¯¹ä¸€ä¸ªåˆ†æ”¯åšã€Œå˜åŸºã€æ“ä½œ
121
### vue3çš„ä¸€äº›å˜åŒ–
- åŸæ¥æ˜¯é€šè¿‡new Vueçš„æ–¹æ³•æ¥åˆå§‹åŒ–Vueï¼Œåœ¨Vue3.0ä¸­ï¼Œä¿®æ”¹ä¸ºäº†é€šè¿‡createAppçš„æ–¹å¼ `createApp(App).mount('#app')`
- vite å†·å¯åŠ¨æŠ€æœ¯æ— æ•Œï¼Œåˆ©ç”¨æµè§ˆå™¨åŸç”Ÿå±æ€§type='module',çœŸæ­£çš„æŒ‰éœ€ç¼–è¯‘
- ç”Ÿå‘½å‘¨æœŸå˜åŒ–: setup(props, context)ä»£æ›¿beforeCreateå’Œcreated,å…¶ä»–ç”Ÿå‘½å‘¨æœŸéƒ½åŠ äº†å‰ç¼€on, destroyed æ¢æˆäº†onUnmounted
- å¾ˆå¤šå†™æ³•å’Œreactç›¸ä¼¼
#### vue router
```js
import {createRouter, createWebHashHistory} from 'vue-router'
// åœ¨ Vue-routeræ–°ç‰ˆæœ¬ä¸­ï¼Œéœ€è¦ä½¿ç”¨createRouteræ¥åˆ›å»ºè·¯ç”±
export default createRouter({
  // æŒ‡å®šè·¯ç”±çš„æ¨¡å¼,æ­¤å¤„ä½¿ç”¨çš„æ˜¯hashæ¨¡å¼
  history: createWebHashHistory(),
  // è·¯ç”±åœ°å€
  routes: []
})
```
### vueX
```js
import { createStore } from 'vuex'

interface State {
  userName: string
}
export default createStore({
  state(): State {
    return {
      userName: "ä¿ŠåŠ«",
    };
  },
});
```
å‚è€ƒæ–‡ç« ï¼š[å­¦ä¹ Vue3.0ï¼Œå…ˆä»æ­å»ºç¯å¢ƒå¼€å§‹](https://segmentfault.com/a/1190000023737670)
### sum(2, 3)å®ç°sum(2)(3)çš„æ•ˆæœ
1ã€é—­åŒ…ï¼Œæ— æ³•å¤„ç†sum(2)(3)(4)
```js
function sum(x) {
  let res = 0
  res = res + x
  return function (y) {
    res = res + y
    return res
  }
}
sum(2)(3) // 5
```
2ã€åˆ©ç”¨argumentsï¼Œåˆ¤æ–­å‚æ•°è¾“å…¥ï¼Œå¦‚æœæ²¡æœ‰å‚æ•°è¾“å…¥çš„è¯ï¼Œå°±è¿”å›æ€»å’Œï¼Œè€Œä¸æ˜¯è¿”å›å‡½æ•°ã€‚ç¡®å®šéœ€è¦æ‰§è¡Œç©ºï¼ˆï¼‰
```js
function sum(x) {
  let res = 0
  res = res + x
  return function temp(y) {
    if (arguments.length === 0) {
      return res
    } else {
      res = res + y
      return temp
    }
  }
}
sum(2)(3)(4)()
```
3ã€é‡å†™sumå‡½æ•°çš„toStringå’ŒvalueOfæ–¹æ³•
```js
function sum(x) {
  let res = 0
  res = res + x
  var temp =  function (y) {
    res = res + y
    return temp
  }
  temp.toString = temp.valueOf = function() {
    return res
  }
  return temp
}
sum(1)(2)(3) // 6
```
## 2.7 
<!-- ### æµè§ˆå™¨çš„å¹¶å‘è¯·æ±‚é™åˆ¶ï¼Ÿä¸ºä»€ä¹ˆ
- æµè§ˆå™¨çš„å¹¶å‘è¯·æ±‚æ•°ç›®é™åˆ¶æ˜¯é’ˆå¯¹åŒä¸€åŸŸåçš„ï¼Œå¦‚æœæƒ³è¦çªç ´è¿™ä¸ªé™åˆ¶ï¼Œæ¢æˆä¸åŒåŸŸåå³å¯ã€‚æ¯”å¦‚å›¾ç‰‡èµ„æºæ”¾åœ¨ä¸åŒçš„åŸŸåä¸‹
- å¦‚æœä¸é™åˆ¶ï¼Œå¤šä¸ªè¯·æ±‚ä¸€èµ·å‘ï¼Œçº¿ç¨‹å¼€é”€æ¯”è¾ƒå¤§
- æœåŠ¡å™¨æ¥æ”¶å¤šä¸ªè¯·æ±‚å¯èƒ½ä¹Ÿä¼šæœ‰æ€§èƒ½é—®é¢˜ï¼Œå°½ç®¡å¯ä»¥è´Ÿè½½å‡è¡¡
å‚è€ƒæ–‡ç« ï¼š[æµè§ˆå™¨åŒåŸŸåè¯·æ±‚çš„æœ€å¤§å¹¶å‘æ•°é™åˆ¶](https://cloud.tencent.com/developer/article/1683127)

### æµè§ˆå™¨httpè¯·æ±‚çš„å¹¶å‘æ€§æ˜¯å¦‚ä½•ä½“ç°çš„ï¼Ÿå¹¶å‘è¯·æ±‚çš„æ•°é‡æœ‰æ²¡æœ‰é™åˆ¶ï¼Ÿ
- é¡µé¢èµ„æºè¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨ä¼šåŒæ—¶å’ŒæœåŠ¡å™¨å»ºç«‹å¤šä¸ªTCPè¿æ¥ï¼Œåœ¨åŒä¸€ä¸ªTCPè¿æ¥ä¸Šé¡ºåºå¤„ç†å¤šä¸ªHTTPè¯·æ±‚ã€‚æ‰€ä»¥æµè§ˆå™¨çš„å¹¶å‘æ€§å°±ä½“ç°åœ¨å¯ä»¥å»ºç«‹å¤šä¸ªTCPè¿æ¥ï¼Œæ¥æ”¯æŒå¤šä¸ªhttpåŒæ—¶è¯·æ±‚ã€‚

- Chromeæµè§ˆå™¨æœ€å¤šå…è®¸å¯¹åŒä¸€ä¸ªåŸŸåHostå»ºç«‹6ä¸ªTCPè¿æ¥ï¼Œä¸åŒçš„æµè§ˆå™¨æœ‰æ‰€åŒºåˆ«ã€‚
### ä¸€ä¸ªTCPè¿æ¥å¯ä»¥åŒæ—¶å‘é€å‡ ä¸ªHTTPè¯·æ±‚ï¼Ÿ
- HTTP/1.1ä¸­ï¼Œå•ä¸ªTCPè¿æ¥ï¼Œåœ¨åŒä¸€æ—¶é—´åªèƒ½å¤„ç†ä¸€ä¸ªhttpè¯·æ±‚ï¼Œè™½ç„¶å­˜åœ¨PipeliningæŠ€æœ¯æ”¯æŒå¤šä¸ªè¯·æ±‚åŒæ—¶å‘é€ï¼Œä½†ç”±äºå®è·µä¸­å­˜åœ¨å¾ˆå¤šé—®é¢˜æ— æ³•è§£å†³ï¼Œæ‰€ä»¥æµè§ˆå™¨é»˜è®¤æ˜¯å…³é—­ï¼Œæ‰€ä»¥å¯ä»¥è®¤ä¸ºæ˜¯ä¸æ”¯æŒåŒæ—¶å¤šä¸ªè¯·æ±‚ã€‚
- HTTP2æä¾›äº†å¤šè·¯ä¼ è¾“åŠŸèƒ½ï¼Œå¤šä¸ªhttpè¯·æ±‚ï¼Œå¯ä»¥åŒæ—¶åœ¨åŒä¸€ä¸ªTCPè¿æ¥ä¸­è¿›è¡Œä¼ è¾“ã€‚ -->

<!-- ### äºŒå‰æ ‘çš„å‡ ç§éå†
- å‰åºéå†ï¼šå…ˆè®¿é—®æ ¹èŠ‚ç‚¹â€”â€”å·¦å­æ ‘â€”â€”å³å­æ ‘
- ä¸­åºéå†ï¼šå…ˆå·¦å­æ ‘â€”â€”æ ¹èŠ‚ç‚¹â€”â€”å³å­æ ‘
- ååºéå†ï¼šå…ˆå·¦å­æ ‘â€”â€”å³å­æ ‘â€”â€”æ ¹èŠ‚ç‚¹
### åŸºç¡€æ’åº
- å†’æ³¡æ’åºï¼šåŒå±‚éå†ï¼Œå¯¹æ¯”å‰åä¸¤ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œä½ç½®äº’æ¢ï¼Œç›´åˆ°éå†ç»“æŸã€‚
- å¿«é€Ÿæ’åºï¼šå»æ•°ç»„ä¸­é—´çš„é‚£ä¸€ä¸ªæ•°ï¼Œç„¶åéå†æ‰€æœ‰æ•°ï¼Œå°äºè¯¥æ•°çš„pushåˆ°ä¸€ä¸ªæ•°ç»„ï¼Œå¤§äºè¯¥æ•°çš„pushåˆ°å¦å¤–ä¸€ä¸ªæ•°ç»„ï¼Œç„¶åé€’å½’å»æ’åºè¿™ä¸¤ä¸ªæ•°ç»„ï¼Œæœ€åå°†æ‰€æœ‰ç»“æœè¿æ¥èµ·æ¥ã€‚
- é€‰æ‹©æ’åºï¼šå£°æ˜ä¸€ä¸ªæ•°ç»„ï¼Œæ¯æ¬¡å»è¾“å…¥æ•°ç»„é‡Œé¢æ‰¾æ•°ç»„ä¸­çš„æœ€å¤§å€¼æˆ–è€…æœ€å°å€¼ï¼Œå–å‡ºæ¥åpushåˆ°å£°æ˜çš„æ•°ç»„ä¸­ï¼Œç›´åˆ°è¾“å…¥æ•°ç»„ä¸ºç©ºã€‚ -->
### ç±»å‹åˆ¤æ–­
- typeof  åŸºæœ¬ç±»å‹ï¼Œ æ³¨æ„null è¿”å›objectï¼Œå› ä¸ºnullæ˜¯000000ï¼Œobjectå‰å‡ ä½ä¹Ÿå…¨æ˜¯0
- instanceof åŸå‹é“¾åˆ¤æ–­, å¯ä»¥å‡†ç¡®åœ°åˆ¤æ–­å¤æ‚å¼•ç”¨æ•°æ®ç±»å‹ï¼Œä½†æ˜¯ä¸èƒ½æ­£ç¡®åˆ¤æ–­åŸºç¡€æ•°æ®ç±»å‹ã€‚æ¯”å¦‚é€šè¿‡new Stringå‡ºæ¥çš„å­—ç¬¦ä¸²å’Œç›´æ¥å†™çš„å­—ç¬¦ä¸²''
- Object.prototype.toString, æœ€å‡†ç¡®ã€‚ç”šè‡³å¯ä»¥æŠŠ document å’Œ window éƒ½åŒºåˆ†å¼€æ¥ã€‚
```js
Object.prototype.toString.call(document)  //"[object HTMLDocument]"
Object.prototype.toString.call(window)   //"[object Window]"
```

### POST,PUTå’ŒPATCHçš„åŒºåˆ«
POSTå’ŒPUTçš„åŒºåˆ«å®¹æ˜“è¢«ç®€å•åœ°è¯¯è®¤ä¸ºâ€œPOSTè¡¨ç¤ºåˆ›å»ºèµ„æºï¼ŒPUTè¡¨ç¤ºæ›´æ–°èµ„æº.ä½†å®é™…ä¸Šä¸¤è€…éƒ½å¯ä»¥ç”¨æ¥åˆ›å»ºæˆ–æ˜¯æ›´æ–°æ•°æ®.å•ä»æŠ€æœ¯ä¸Šæ¥è¯´,ä»–ä»¬å¹¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«.

POSTæ˜¯éå¹‚ç­‰çš„,å¤šæ¬¡è°ƒç”¨ä¼šäº§ç”Ÿä¸åŒçš„ç»“æœ

PUTæ˜¯å¹‚ç­‰çš„,è°ƒç”¨ä¸€æ¬¡å’ŒNæ¬¡å¯¹ç³»ç»Ÿäº§ç”Ÿçš„å‰¯ä½œç”¨æ˜¯ç›¸åŒçš„

PATCHä¸€èˆ¬æ˜¯ç”¨æ¥å±€éƒ¨æ›´æ–°èµ„æºçš„

### æš‚æ—¶æ€§æ­»åŒº
- ES6è§„å®šï¼Œlet/const å‘½ä»¤ä¼šä½¿åŒºå—å½¢æˆå°é—­çš„ä½œç”¨åŸŸã€‚è‹¥åœ¨å£°æ˜ä¹‹å‰ä½¿ç”¨å˜é‡ï¼Œå°±ä¼šæŠ¥é”™ã€‚
- æ€»ä¹‹ï¼Œåœ¨ä»£ç å—å†…ï¼Œä½¿ç”¨ let å‘½ä»¤å£°æ˜å˜é‡ä¹‹å‰ï¼Œè¯¥å˜é‡éƒ½æ˜¯ä¸å¯ç”¨çš„ã€‚
- è¿™åœ¨è¯­æ³•ä¸Šï¼Œç§°ä¸º â€œæš‚æ—¶æ€§æ­»åŒºâ€ï¼ˆ temporal dead zoneï¼Œç®€ç§° TDZï¼‰ã€‚
```js
var num = 1;
if (true) {
  num = 'a'; // Error: Uncaught ReferenceError: num is not defined
  let num;
}
```
å› ä¸ºåœ¨ if ä¸­å£°æ˜äº†ä¸€ä¸ªå±€éƒ¨å˜é‡ num , å¯¼è‡´æš‚æ—¶æ€§æ­»åŒºï¼Œif é‡Œçš„ num åˆ™ä¸è¿™ä¸ªå—çº§ä½œç”¨åŸŸç»‘å®šï¼Œä¸å†å—å…¨å±€å˜é‡ num å½±å“ï¼ŒåŒæ—¶ let ä¸å­˜åœ¨å˜é‡æå‡ï¼Œæ‰€ä»¥åœ¨ let å‰èµ‹å€¼çš„ num æ˜¯éæ³•çš„ã€‚constä¸ä¹‹åŒç†ã€‚

### æµ…æ‹·è´
- object.assign
- æ‰©å±•è¿ç®—ç¬¦æ–¹å¼
- concat æ‹·è´æ•°ç»„
- arr.slice() æ‹·è´æ•°ç»„

```js
let target = {};

let source = { a: { b: 1 } };

Object.assign(target, source);

console.log(target); // { a: { b: 5 } };
// ä¿®æ”¹å·²æœ‰å±æ€§ä¼šç›¸äº’å½±å“
source.a.b = 5
console.log(source); // { a: { b: 5 } ,c: 1};
console.log(target); // { a: { b: 5 } };â€˜
// å¢åŠ å±æ€§äº’è¡¥å½±å“
source.c = 1;
console.log(source); // { a: { b: 5 } ,c: 1};
console.log(target); // { a: { b: 5 } };
```

### JS é«˜ç²¾åº¦è®¡æ—¶å™¨
```js
var start = new Date().getTime(); 
var count = 0; 
 
//å ç”¨çº¿ç¨‹äº‹ä»¶ 
setInterval(function(){ 
     var j = 0; 
     while(j++ < 100000000); 
}, 0); 
 
//å®šæ—¶å™¨æµ‹è¯•
setInterval(function(){ 
     count++; 
     console.log( new Date().getTime() - (start + count * 1000)); 
},1000);
```
ç”±äºåŠ äº†å¾ˆå çº¿ç¨‹çš„é˜»å¡äº‹ä»¶ï¼Œå¯¼è‡´å®šæ—¶å™¨äº‹ä»¶æ¯æ¬¡æ‰§è¡Œå»¶è¿Ÿè¶Šæ¥è¶Šä¸¥é‡,å®é™…è¾“å‡º200 - 3000ä¸ç­‰.

ç”±äºå®é™…é¡¹ç›®ä¸­ï¼Œæ‰§è¡Œè®¡æ—¶å™¨çš„åŒæ—¶ï¼Œä¼šæœ‰å¾ˆå¤šå…¶ä»–å¼‚æ­¥é˜»å¡äº‹ä»¶ï¼Œä¼šå¯¼è‡´å€’è®¡æ—¶åŠŸèƒ½ä¸ç²¾ç¡®ã€‚

è§£å†³æ€è·¯ï¼šé€šè¿‡å¼•å…¥è®¡æ•°å™¨ï¼Œåˆ¤æ–­è®¡æ—¶å™¨å»¶è¿Ÿæ‰§è¡Œçš„æ—¶é—´æ¥è°ƒæ•´ï¼Œå°½é‡è®©è¯¯å·®ç¼©å°ï¼Œä¸åŒæµè§ˆå™¨ä¸åŒæ—¶é—´æ®µæ‰“å¼€é¡µé¢å€’è®¡æ—¶è¯¯å·®å¯æ§åˆ¶åœ¨1sä»¥å†…ã€‚
```js
var start = new Date().getTime(),  
    time = 0,  
    elapsed = '0.0';  
function instance()  
{  
    time += 100;  
    elapsed = Math.floor(time / 100) / 10;  
    if(Math.round(elapsed) == elapsed) { elapsed += '.0'; }  
    document.title = elapsed;  
    var diff = (new Date().getTime() - start) - time;  
    window.setTimeout(instance, (100 - diff));  
}  
window.setTimeout(instance, 100); 
```
å‚è€ƒæ–‡ç« ï¼š
- [Javascriptè®¡æ—¶å™¨](https://cloud.tencent.com/developer/ask/69743)
- [JSå®ç°æ´»åŠ¨ç²¾ç¡®å€’è®¡æ—¶](https://www.xuanfengge.com/js-realizes-precise-countdown.html)
## 2.6 
ä¹°äº†é—¨è¯¾ï¼Œ ã€JavaScript æ ¸å¿ƒåŸç†ç²¾è®²ã€‘çœ‹ä¸€æ³¢
### httpåè®®ä¸­301å’Œ302çš„åŒºåˆ«
- 301ä»£è¡¨èµ„æºçš„æ°¸ä¹…é‡å®šå‘ï¼Œ302ä»£è¡¨èµ„æºçš„ä¸´æ—¶é‡å®šå‘
- å¾ˆå¤šçš„ç¬¬ä¸‰æ–¹æˆæƒï¼Œæˆæƒè¿‡åçš„å›è·³åœ°å€ç»å¸¸ä¼šä½¿ç”¨301å½¢å¼ï¼Œæ”¹å˜æµè§ˆå™¨çš„å›è·³åœ°å€ã€‚

### å•ä¸ªinput enterä¼šåˆ·æ–°é¡µé¢
- å†™ä¸€ä¸ªéšè—çš„input
- el-form @submit.native.prevent
- å±è”½å›è½¦é”®ï¼Œæ¯”è¾ƒlow

### æ­£åˆ™è¡¨è¾¾å¼ç¬¦å·ï¼Œè€æ˜¯å¿˜
- ^ä»¥ä»€ä¹ˆä¸ºå¼€å§‹
- \såŒ¹é…ä»»æ„çš„ç©ºç™½ç¬¦
- *åªåŒ¹é…å‡ºç° 0 æ¬¡åŠä»¥ä¸Š * å‰çš„å­—ç¬¦
- ()åˆ†ç»„ []åŒ¹é…æ–¹æ‹¬å·å†…çš„ä»»æ„å­—ç¬¦
- ?ä¹‹å‰å­—ç¬¦å¯é€‰
- \dåŒ¹é…æ•°å­—
- +åªåŒ¹é…å‡ºç° 1 æ¬¡åŠä»¥ä¸Š + å‰çš„å­—ç¬¦ .åŒ¹é…ä»»æ„å­—ç¬¦é™¤äº†æ¢è¡Œç¬¦å’Œå›è½¦ç¬¦(è´ªå©ªåŒ¹é…)
## 2.5
### lodash _get()å®ç°
è®¿é—®a.b.c.d.e æŠ¥é”™å¤„ç†ï¼Œæœ€æ–°çš„è¯­æ³•å¯ä»¥å†™ï¼ša?.b?.c?.d?.e æ¥è®¿é—®,ä½†æ˜¯è¯­ä¹‰ä¸æ˜ç¡®ï¼Œå…¼å®¹æ€§è¦æ±‚è¾ƒé«˜ã€‚

ä½¿ç”¨lodash getè¾ƒå¥½
```js
function get (source, path, defaultValue) {
  const paths = path.replace(/\[(\d+)\]/g, '.$1').split('.')
  let result = source
  for (const p of paths) {
    result = Object(result)[p]
    if (!result) {
      return defaultValue
    }
  }
  return result
}

```

### è®¡ç®—æ—¶åŒº
è¿·è¿·ç³Šç³Š
```js
// å°†ä¸€å¤©24å°æ—¶æŒ‰æ¯åŠå°åˆ’åˆ†æˆ48æ®µï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªä½å›¾è¡¨ç¤ºé€‰ä¸­çš„æ—¶é—´åŒºé—´ï¼Œ
// ä¾‹å¦‚`110000000000000000000000000000000000000000000000`ï¼Œ
// è¡¨ç¤ºç¬¬ä¸€ä¸ªåŠå°æ—¶å’Œç¬¬äºŒä¸ªåŠå°æ—¶è¢«é€‰ä¸­äº†ï¼Œå…¶ä½™æ—¶é—´æ®µéƒ½æ²¡æœ‰è¢«é€‰ä¸­ï¼Œ
// ä¹Ÿå°±æ˜¯å¯¹åº”00:00~01:00è¿™ä¸ªæ—¶é—´åŒºé—´ã€‚ä¸€ä¸ªä½å›¾ä¸­å¯èƒ½æœ‰å¤šä¸ªä¸è¿ç»­çš„
// æ—¶é—´åŒºé—´è¢«é€‰ä¸­ï¼Œä¾‹å¦‚`110010000000000000000000000000000000000000000000`ï¼Œ
// è¡¨ç¤º00:00-1:00å’Œ02:00-02:30è¿™ä¸¤ä¸ªæ—¶é—´åŒºé—´è¢«é€‰ä¸­äº†ã€‚

// è¦æ±‚ï¼šå†™ä¸€ä¸ªå‡½æ•°timeBitmapToRangesï¼Œå°†ä¸Šè¿°è§„åˆ™æè¿°çš„æ—¶é—´ä½å›¾è½¬æ¢æˆä¸€ä¸ªé€‰ä¸­æ—¶é—´åŒºé—´çš„æ•°ç»„ã€‚
// ç¤ºä¾‹è¾“å…¥ï¼š`"110010000000000000000000000000000000000000000000"`
// ç¤ºä¾‹è¾“å‡ºï¼š`["00:00~01:00", "02:00~02:30"]`
function format(start, end) {
    let endHour = (end / 2).toFixed(1);
    let startHour = (start / 2).toFixed(1);
    let reg = /(\d+)\.(\d+)/;
    const endRes = endHour.match(reg);
    const startRes = startHour.match(reg);
    return (
        addZero(startRes[1]) +
        ':' +
        addZero(startRes[2]) +
        '~' +
        addZero(endRes[1]) +
        ':' +
        addZero(endRes[2])
    );
}
function addZero(num) {
    num = num === '5' ? '30' : num;
    return num.length > 1 ? num : '0' + num;
}
function timeBitmapToRanges(timeBitmap) {
    let timeArr = timeBitmap.split('').map(v => +v);
    const res = [];
    let range = {};
    let start = 0;
    for (let i = 0; i <= timeArr.length; i++) {
        if (timeArr[i]) {
            start++;
        }
        if (!timeArr[i] && timeArr[i - 1]) {
            range[i] = start;
            start = 0;
        }
    }
    for (let j in range) {
        res.push(format(parseInt(j - range[j]), parseInt(j)));
    }
    return res;
}

console.log(
    timeBitmapToRanges('110010000000000000001110000000000000000000000111')
);
// [ '00:00~01:00', '02:00~02:30', '10:00~11:30', '22:30~24:00' ]


```

### å®ç° getValue å‡½æ•°æ¥è·å–pathå¯¹åº”çš„å€¼
```js
var object = { 'a': [{ 'b': { 'c': 3 } }] }; // path: 'a[0].b.c'
var array = [{ "a": { b: [1] } }]; // path: '[0].a.b[0]'

function getValue(target, valuePath, defaultValue) {
    let res = ''
    if(Object.prototype.toString.call(target) === '[object Object]') {
        let pathArr = valuePath.split('.'); // [a[0],b,c]
        pathArr.forEach(item => {
            if(item.includes('[')) {
                let iItem = 0;
                item.match(/[0-9]/g, function($0) {
                    iItem = $0
                })
                let key = item.split('[')[0]
                res = target[key][iItem]
            } else {
                res = res[item]
            }
        })
    }
    // æ•°ç»„å¤„ç†æœ‰ç‚¹é—®é¢˜ã€‚åé¢å†æƒ³æƒ³
    // if(Array.isArray(target)) {
    //     target.forEach(item => {
    //         getValue(item)
    //     })
    // };
    return res || defaultValue;
}

console.log(getValue(object, 'a[0].b.c', 0));  // è¾“å‡º3
// console.log(getValue(array, '[0].a.b[0]', 12)); // è¾“å‡º 1
// console.log(getValue(array, '[0].a.b[0].c', 12));  // è¾“å‡º 12
```



## 2.4

### æé†’è‡ªå·±ä¿æŒå­¦ä¹ 

### lodash æºç åŠ å…¥å­¦ä¹ è®¡åˆ’

### å¤©å¤©å¼€ä¼šå¤ªå¿™äº†ï¼Œå¹´åéƒ½å®‰æ’æ»¡äº†ï¼Œå‘¨å…­æ¶è¡¥ä¸€ä¸‹

### å®ç° isEqual å‡½æ•° æ€è·¯

è¦è€ƒè™‘çš„æƒ…å†µå¾ˆå¤šï¼Œå¯ä»¥å‚è€ƒ lodash çš„å®ç°

- +0 -0 ï¼ŒNaNï¼Œ null undefined éƒ½å¯ä»¥ç”¨ Object.is åˆ¤æ–­
- å¯¹è±¡ Object.prototype.toString.call === [object Object] æ³¨æ„ç¬¬äºŒä¸ª Object O å¤§å†™

åªè€ƒè™‘å¯¹è±¡å’Œæ•°ç»„ï¼ŒåŸºæœ¬å°±æ˜¯é€’å½’çš„æ€æƒ³

```js
function isEqual(a, b) {
  // åªè€ƒè™‘å¯¹è±¡ï¼Œæˆ–è€…æ•°ç»„
  if (areArrays) {
    length = a.length;
    if (length !== b.length) return false;

    while (length--) {
      if (!eq(a[length], b[length])) return false;
    }
  } else {
    var keys = Object.keys(a),
      key;
    length = keys.length;

    if (Object.keys(b).length !== length) return false;

    while (length--) {
      key = keys[length];
      if (!(b.hasOwnProperty(key) && eq(a[key], b[key]))) return false;
    }
  }
  return true;
}
```

## 2.3

### é¡µé¢ç™½å± loading

spa åº”ç”¨å¯ä»¥ç›´æ¥åœ¨å®¹å™¨é‡Œé¢å†™ï¼Œå½“ vueã€react æŒ‚è½½é˜¶æ®µå®Œæˆä»¥åï¼Œä¼šæ›¿æ¢æ‰å…¶ä¸­çš„å†…å®¹ï¼Œè‡ªåŠ¨ç§»é™¤æ‰ loading äº†ã€‚

```html
<div id="app">
  <div id="loadding"></div>
</div>
```

### vite çœŸçš„ nbï¼Œå¾—ç³»ç»Ÿå­¦ä¹ ä¸€æ³¢ï¼Œäº§å‡ºä¸€ç¯‡æ–‡ç« è¯•è¯•

## 2.2

### Reflect

Reflect æ˜¯ä¸€ä¸ªå†…ç½®çš„å¯¹è±¡ï¼Œå®ƒæä¾›æ‹¦æˆª JavaScript æ“ä½œçš„æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•ä¸ proxy handlers çš„æ–¹æ³•ç›¸åŒã€‚Reflect ä¸æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œå› æ­¤å®ƒæ˜¯ä¸å¯æ„é€ çš„ã€‚

Reflect çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯é™æ€çš„ï¼Œè¯¥å¯¹è±¡æä¾›äº†ä¸ Proxy handler å¯¹è±¡ç›¸å…³çš„ 13 ä¸ªæ–¹æ³•ã€‚è¿™é‡Œåªåˆ—ä¸¾ä»¥ä¸‹ 5 ä¸ªå¸¸ç”¨çš„æ–¹æ³•ï¼š

- Reflect.get(target, propertyKey[, receiver])ï¼šè·å–å¯¹è±¡èº«ä¸ŠæŸä¸ªå±æ€§çš„å€¼ï¼Œç±»ä¼¼äº target[name]ã€‚
- Reflect.set(target, propertyKey, value[, receiver])ï¼šå°†å€¼èµ‹å€¼ç»™å±æ€§çš„å‡½æ•°ã€‚è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œå¦‚æœæ›´æ–°æˆåŠŸï¼Œåˆ™è¿”å› trueã€‚
- Reflect.deleteProperty(target, propertyKey)ï¼šåˆ é™¤ target å¯¹è±¡çš„æŒ‡å®šå±æ€§ï¼Œç›¸å½“äºæ‰§è¡Œ delete target[name]ã€‚
- Reflect.has(target, propertyKey)ï¼šåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§ï¼Œå’Œ in è¿ç®—ç¬¦çš„åŠŸèƒ½å®Œå…¨ç›¸åŒã€‚
- Reflect.ownKeys(target)ï¼šè¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰è‡ªèº«å±æ€§ï¼ˆä¸åŒ…å«ç»§æ‰¿å±æ€§ï¼‰çš„æ•°ç»„

### è®©æ–‡å­—çš„æ˜¾ç¤ºå˜ä¸ºå‚ç›´æ–¹å‘

ä½œç”¨ä¸çˆ¶å…ƒç´ ï¼š`writing-mode: vertical-lr;` æ³¨æ„å…¼å®¹æ€§

### grid å‚ç›´å±…ä¸­

```css
.wrapper {
  width: 300px;
  height: 300px;
  border: 1px solid #ccc;

  display: grid;
}

.wrapper > p {
  align-self: center;
  justify-self: center;
}
```

### è¡Œå†…å…ƒç´ çš„ margin å’Œ padding

- æ°´å¹³æ–¹å‘ï¼šæ°´å¹³æ–¹å‘ä¸Šï¼Œéƒ½æœ‰æ•ˆï¼›
- å‚ç›´æ–¹å‘ï¼šå‚ç›´æ–¹å‘ä¸Šï¼Œéƒ½æ— æ•ˆï¼›ï¼ˆpadding-top å’Œ padding-bottom ä¼šæ˜¾ç¤ºå‡ºæ•ˆæœï¼Œä½†æ˜¯é«˜åº¦ä¸ä¼šæ’‘å¼€ï¼Œä¸ä¼šå¯¹å‘¨å›´å…ƒç´ æœ‰å½±å“ï¼‰

### ä»€ä¹ˆæ˜¯ CSPï¼Ÿ

- CSPï¼ˆContent-Security-Policyï¼‰æŒ‡çš„æ˜¯å†…å®¹å®‰å…¨ç­–ç•¥ï¼Œå®ƒçš„æœ¬è´¨æ˜¯å»ºç«‹ä¸€ä¸ªç™½åå•ï¼Œå‘Šè¯‰æµè§ˆå™¨å“ªäº›å¤–éƒ¨èµ„æºå¯ä»¥åŠ è½½å’Œæ‰§è¡Œã€‚æˆ‘ä»¬åªéœ€è¦é…ç½®è§„åˆ™ï¼Œå¦‚ä½•æ‹¦æˆªç”±æµè§ˆå™¨è‡ªå·±æ¥å®ç°ã€‚
- é€šå¸¸æœ‰ä¸¤ç§æ–¹å¼æ¥å¼€å¯ CSPï¼Œä¸€ç§æ˜¯è®¾ç½® HTTP é¦–éƒ¨ä¸­çš„ Content-Security-Policyï¼Œä¸€ç§æ˜¯è®¾ç½® meta æ ‡ç­¾çš„æ–¹å¼ <meta http-equiv="Content-Security-Policy">
- CSP ä¹Ÿæ˜¯è§£å†³ XSS æ”»å‡»çš„ä¸€ä¸ªå¼ºåŠ›æ‰‹æ®µã€‚

### ä»€ä¹ˆæ˜¯å°¾è°ƒç”¨ï¼Ÿ

å°¾è°ƒç”¨æŒ‡çš„æ˜¯å‡½æ•°çš„æœ€åä¸€æ­¥è°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°ã€‚æˆ‘ä»¬ä»£ç æ‰§è¡Œæ˜¯åŸºäºæ‰§è¡Œæ ˆçš„ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬åœ¨ä¸€ä¸ªå‡½æ•°é‡Œè°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œæˆ‘ä»¬ä¼šä¿ç•™å½“å‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œç„¶åå†æ–°å»ºå¦å¤–ä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡åŠ å…¥æ ˆä¸­ã€‚ä½¿ç”¨å°¾è°ƒç”¨çš„è¯ï¼Œå› ä¸ºå·²ç»æ˜¯å‡½æ•°çš„æœ€åä¸€æ­¥ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ä¸å¿…å†ä¿ç•™å½“å‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œä»è€ŒèŠ‚çœäº†å†…å­˜ï¼Œè¿™å°±æ˜¯å°¾è°ƒç”¨ä¼˜åŒ–ã€‚ES6 çš„å°¾è°ƒç”¨ä¼˜åŒ–åªåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹å¼€å¯ï¼Œæ­£å¸¸æ¨¡å¼æ˜¯æ— æ•ˆçš„ã€‚

### æ‰“å°èƒŒæ™¯ï¼Œæµè§ˆå™¨é»˜è®¤ä¸å‹¾é€‰

#### 1ã€css

```js
@media print {
     body{
        -webkit-print-color-adjust:exact;
        -moz-print-color-adjust:exact;
        -ms-print-color-adjust:exact;
        print-color-adjust:exact;
    }
}
```

### 2ã€js åŸºæœ¬å°±æ˜¯å†™èƒŒæ™¯å›¾

### apply å®ç° bind

```js
// bindæ²¡æœ‰ç«‹å³æ‰§è¡Œå‡½æ•°
Function.prototype.Mybind = function(context) {
  let _me = this;
  return function() {
    return _me.apply(context);
  };
};
```

## 2.1

### react hooks

- useState: ç”¨æ¥å£°æ˜çŠ¶æ€ stateï¼Œä¿®æ”¹å€¼éœ€è¦æ‰‹åŠ¨åˆå¹¶
- useEffect: ç”¨æ¥æ›¿æ¢ç±»ç»„ä»¶ä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œç®€åŒ–é‡å¤çš„æ“ä½œ
- useContext: å…¨å±€å…±äº«çŠ¶æ€ï¼Œè§£å†³ç¥–å…ˆ/å­å­™ç»„ä»¶ä¹‹é—´çš„ä¼ å‚é—®é¢˜
- useReducer: useState çš„æ›¿æ¢æ–¹æ¡ˆï¼Œå°†æ“ä½œå’Œæ›´æ–°è§£ç»‘,é…åˆ useContxet å¯ä»¥å®ç°ç®€æ˜“ redux
- useCallback: å¯¹å‡½æ•°è¿›è¡Œç¼“å­˜ï¼Œä¼˜åŒ–æ€§èƒ½
- useMemo: å¯¹å€¼è¿›è¡Œç¼“å­˜ï¼Œä¼˜åŒ–æ€§èƒ½
- useRef:è·å– DOM èŠ‚ç‚¹æˆ–ç»„ä»¶å®ä¾‹ï¼Œ ä¿å­˜å˜é‡

### vite

- å½“æµè§ˆå™¨è¯†åˆ« type="module"å¼•å…¥ js æ–‡ä»¶çš„æ—¶å€™ï¼Œå†…éƒ¨çš„ import å°±ä¼šå‘èµ·ä¸€ä¸ªç½‘ç»œè¯·æ±‚ï¼Œå°è¯•å»è·å–è¿™ä¸ªæ–‡ä»¶

- vite ä¸»è¦æ˜¯æ˜¯å¼€å‘æ—¶åšåˆ°äº†çœŸæ­£çš„åŠ¨æ€åŠ è½½ï¼Œæ‰“åŒ…è¿˜æ˜¯éœ€è¦å€ŸåŠ©äº rollup
