---
title: ã€æ¯æ—¥å­¦ä¹ æ‰“å¡ã€‘3.11
sidebar: "auto"
date: 2021-03-11
tags:
  - å­¦ä¹ æ‰“å¡
categories:
  - å­¦ä¹ æ‰“å¡
---

> æ–°çš„ä¸€ä¸ªæœˆï¼Œæ–°çš„å¼€å§‹ï¼ŒğŸ†™

<!-- more -->

<!-- :::tip
::: -->
<!-- ## è¿‡å¹´åœ¨æ­å·è®¡åˆ’ 9å¤©()
- vue3 + TS  å®ç°éƒ¨åˆ†å½“å‰ä¸šåŠ¡é€»è¾‘
- react hooks + TS  å®ç°éƒ¨åˆ†å½“å‰ä¸šåŠ¡é€»è¾‘
- webpack æºç 
- ç®—æ³•æ‰“å¡10é¢˜
- æµè§ˆå™¨åŸç†å­¦ä¹ +æ–‡ç« è¾“å‡º
- js ç±» -->

<!-- ## ç›®å½•
[[toc]] -->
<!-- ## è®¡åˆ’ä¸­
- webpackç³»ç»Ÿæ€§å­¦ä¹ 
- babel
- typescriptåº”ç”¨åˆ°å¾®æœåŠ¡ä¸­
- è®¡ç®—æœºç½‘ç»œç³»ç»Ÿæ€§å¤ä¹ ï¼Œæ¯•ç«Ÿä¸“ä¸š
- vite
- lodashæºç åŠ å…¥å­¦ä¹ è®¡åˆ’
- æ­£åˆ™è¡¨è¾¾å¼  -->
<!-- ## è®¡åˆ’ -->
<!-- ### æµè§ˆå™¨å†…éƒ¨æœºåˆ¶ -->

## 3.11

### Array.map ç”ŸæˆèŠ‚ç‚¹

é¡¹ç›®å¾ˆå¤šèŠ‚ç‚¹éƒ½æ˜¯ map ç”Ÿæˆçš„ï¼Œæƒ³ç€ map è¿”å›çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ€ä¹ˆå°±å˜æˆèŠ‚ç‚¹äº†å‘¢ï¼Œè¯•äº†ä¸€ä¸‹ï¼Œè¿˜çœŸçš„æ˜¯

```js
function Example() {
  const arr = [
    { name: "JJ", company: "youzan" },
    { name: "KK", company: "ali" },
    { name: "XY", company: "weiyi" },
    { name: "SQ", company: "dxy" },
  ];
  return (
    <>
      {arr.map((v, i) => {
        return <h3 key={i}>{v.name}</h3>;
      })}
    </>
  );
}
```

### React.Fragment

ç®€å•ç†è§£å°±æ˜¯å¯¹æ ‡ç­¾è¿›è¡Œåˆ†ç»„ï¼Œç®€å†™`<> </>`,ä¸æ”¯æŒ key æˆ–å±æ€§

```js
class Columns extends React.Component {
  render() {
    return (
      <>
        <td>Hello</td>
        <td>World</td>
      </>
    );
  }
}
```

### node bff

ä¹‹å‰åœ¨å¾®åŒ»æ ¹æœ¬ä¸ä¼šæ¥è§¦åˆ°è¿™äº›ä¸œè¥¿ï¼Œç¬¬ä¸€æ¬¡æï¼Œæœ‰ç‚¹æ‡µã€‚ã€‚ã€‚

æœ‰èµè¿™è¾¹ï¼Œæˆ‘æ¥è§¦çš„ä¸¤ä¸ª pc é¡¹ç›®éƒ½ç”¨ node å»åŒ…è£…äº†ä¸€å±‚æ¥å£ï¼Œåç«¯åªéœ€è¦æä¾›`com.youzan.xxxx.xxxx.server`ä»¥åŠåç«¯çš„ä¸€ä¸ªæ–¹æ³•åç§°ï¼Œå‰ç«¯ç”¨ node å»åŒ…è£…ä¸€ä¸ªæ¥å£ï¼Œæš´éœ²ç»™é™æ€åº”ç”¨ä½¿ç”¨ã€‚çœå»äº†å¾ˆå¤šåç«¯çš„æ´»ï¼Œå¾ˆå¤šäººæ¥è§¦çš„éƒ½æ˜¯åç«¯ç›´æ¥ç»™ä¸ª api çš„å½¢å¼ã€‚ç”¨ bffï¼Œæˆ‘ä»¬å‰ç«¯å¯ä»¥è‡ªå·±å»åŒ…è£…æ¥å£ï¼Œåç«¯åªéœ€è¦æä¾›ä¸šåŠ¡é€»è¾‘æ–¹æ³•å³å¯ã€‚

### ts never ç±»å‹

é¡¹ç›®ä»£ç ä¸­å¾ˆå¤šç»“æ„çš„å†™æ³•ï¼Œæ¯”å¦‚

```js
fetchXXX().then(({ a = [], b = {}, c = 0 } = {}) => {
  // b.x = 1; æŠ¥é”™ï¼Œç¼–è¾‘å™¨æç¤ºè¯´neverç±»å‹ä¸å…è®¸èµ‹å€¼numberï¼Œç½‘ä¸ŠæŸ¥è¯´å¯ä»¥ç”¨ b['x']ï¼Œè¯•äº†æ²¡ç”¨
  this.setState({
    dataA: a,
    dataB: b,
    dataC: c,
  });
});
```

è¿˜æ²¡è§£å†³ï¼Œè®°å½•ä¸‹æ¥é—®å¤§ä½¬ä»¬

## 3.10

### é¡¹ç›®ç†Ÿæ‚‰

æµç¨‹ä¸Šå’Œä¸Šå®¶å…¬å¸æœ‰éƒ¨åˆ†ç›¸ä¼¼ï¼Œæ…¢æ…¢é€‚åº”ï¼Œæ¥äº†ä¸€ä¸ªå°æ´»ï¼Œæœ‰äº‹æƒ…å¹²äº†ï¼Œå†²å†²å†²

### React.FC<>

React çš„ç»„ä»¶å¯ä»¥å®šä¹‰ä¸º å‡½æ•°ï¼ˆReact.FC<>ï¼‰æˆ– classï¼ˆç»§æ‰¿ React.Componentï¼‰ çš„å½¢å¼ã€‚

- React.FC æ˜¯å‡½æ•°å¼ç»„ä»¶ï¼Œæ˜¯åœ¨ TypeScript ä½¿ç”¨çš„ä¸€ä¸ªæ³›å‹ï¼ŒFC å°±æ˜¯ FunctionComponent çš„ç¼©å†™ï¼Œäº‹å®ä¸Š React.FC å¯ä»¥å†™æˆ React.FunctionComponent

```js
const App: React.FunctionComponent<{ message: string }> = ({ message }) => (
  <div>{message}</div>
);
```

- ä½¿ç”¨ React.FC æ¥å†™ React ç»„ä»¶çš„æ—¶å€™ï¼Œæ˜¯ä¸èƒ½ç”¨ setState çš„ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ useState()ã€useEffect ç­‰ Hook API
- React.FC åŒ…å«äº† PropsWithChildren çš„æ³›å‹

## 3.9 å…¥èŒ

### æ–°äººæŠ¥é“ï¼Œæµæ°´è´¦

- 9ï¼š30 æ¥äº†å¥½å¤šç‰¹è­¦ï¼ŒæŸ¥çš„æŒºä¸¥çš„ã€‚è²Œä¼¼æ˜¯å› ä¸ºä¹°å®¶å’Œå–å®¶çš„é—®é¢˜ï¼Œé—¹åˆ°äº†æœ‰èµã€‚
- 9ï¼š30 - 11ï¼š00 æ–°äººåŸ¹è®­ï¼Œå„ç§è´¦å·ï¼Œæµç¨‹
- 11ï¼š30 - 13ï¼š30 å·¥ä½ææ
- 13ï¼š30 ä¸‹åˆç»§ç»­åŸ¹è®­
- å‘ç¬”è®°æœ¬ï¼šM1 çš„ Mac Book Pro
- IT å°å“¥ç›¸å…³ä»‹ç»
- åˆåŒç›¸å…³
- æœ€åä¸€ä¸ªå°æ´»åŠ¨ å›¢é˜Ÿæ´»åŠ¨ï¼šæ‰€æœ‰æ–°äººä¸€èµ·æ‹ä¸ªæŠ–éŸ³è§†é¢‘ ä¸ªäººæ´»åŠ¨ï¼šæ‰¾æœ‰ä¼´ï¼ˆå¯¼å¸ˆï¼‰ï¼ŒTLï¼ŒHRBPï¼Œæœ‰ç¼˜äººæ‹åˆç…§ï¼Œå‘åˆ°å…¬å¸å…¨å‘˜ç¾¤

### æŠ€æœ¯ç›¸å…³

react17 + typescript è¾¹å­¦è¾¹å†™ï¼Œå‹åŠ›æ¯”è¾ƒå¤§ï¼Œæˆé•¿åº”è¯¥ä¹Ÿæ˜¯æœ€å¿«çš„ï¼Œå†²å†²å†²ã€‚

## 3.8

æ¬å®¶ + æ”¶æ‹¾å®¶

ä½“æ£€æŠ¥å‘Šå‡ºæ¥äº†ï¼ŒéªŒè¡€æœ‰ä¸ªæŒ‡æ ‡ ALT çš„ï¼Œæ­£å¸¸ 50 ä»¥å†…ï¼Œæˆ‘æ˜¯ 95ï¼Œè§£è¯»æ˜¯è¿‡åº¦åŠ³ç´¯ï¼Œå·®ç‚¹çŒæ­»ã€‚ã€‚ã€‚

## 3.7

ä¸Šåˆä½“æ£€ï¼Œä¸‹åˆæ¬å®¶

## 3.6

### æ‰¾æˆ¿

ä¸Šå‘¨æœ«çœ‹è¿‡ä¸€æ¬¡ï¼Œæ²¡æ‰¾åˆ°åˆé€‚çš„ã€‚è¿™æ¬¡å¸¦å¥³æœ‹å‹ä¸€å—çœ‹çš„ï¼Œæœ¬æ¥å†³å®šç§Ÿè‡ªå¦‚çš„ã€‚æ™šä¸Šå›å»åˆçœ‹åˆ°ä¸€ä¸ªè½¬ç§Ÿçš„ï¼Œå°±çº¦äº†ä¸‹ï¼Œè¿˜ä¸é”™ï¼Œå°±ç­¾äº†ã€‚

ä¸€ä¸ªæ²¡æ¯•ä¸šçš„å¦¹å­è½¬ç§Ÿçš„ï¼Œä¸­é—´ä¸ºäº† 50%çš„è½¬ç§Ÿè´¹ï¼Œæ‰¯äº†ä¸€ä¼šï¼Œå°å§å§äººæŒºå¥½ï¼Œæˆ‘è¿æ°”ä¹Ÿä¸é”™ã€‚

## 3.5

åœ¨å¾®åŒ»çš„æœ€åä¸€å¤©ï¼Œè¿˜è¦å¼€æŠ€æœ¯è¯„å®¡ã€‚æºœäº†æºœäº†

### ç®—æ³•æ‰“å¡

[287. å¯»æ‰¾é‡å¤æ•°](https://leetcode-cn.com/problems/find-the-duplicate-number/)

ç»™å®šä¸€ä¸ªåŒ…å« Â n + 1 ä¸ªæ•´æ•°çš„æ•°ç»„ Â nums ï¼Œå…¶æ•°å­—éƒ½åœ¨ 1 åˆ° nÂ  ä¹‹é—´ï¼ˆåŒ…æ‹¬ 1 å’Œ nï¼‰ï¼Œå¯çŸ¥è‡³å°‘å­˜åœ¨ä¸€ä¸ªé‡å¤çš„æ•´æ•°ã€‚

å‡è®¾ nums åªæœ‰ ä¸€ä¸ªé‡å¤çš„æ•´æ•° ï¼Œæ‰¾å‡º è¿™ä¸ªé‡å¤çš„æ•° ã€‚

```js
var findDuplicate = function(nums) {
  let map = new Map();
  nums.forEach((v) => {
    if (!map.get(v)) {
      map.set(v, 1);
    } else {
      map.set(v, map.get(v) + 1);
    }
  });
  let res = 0;
  map.forEach((v, k, map) => {
    if (v > 1) {
      res = k;
    }
  });
  return res;
};
console.log(findDuplicate([3, 1, 3, 4, 2]));
```

## 3.4

## Map.prototype.forEach()

```js
function logMapElements(value, key, map) {
  console.log(`m[${key}] = ${value}`);
}
```

## React hooks

React hooks: not magic, just arrays

ç®€å•ç†è§£ hooks å·¥ä½œåŸç†æ˜¯åˆ›å»ºäº†ä¸¤ä¸ªä¸€ä¸€å¯¹åº”çš„æ•°ç»„ï¼Œå¦‚æœä½¿ç”¨ if åˆ¤æ–­å°±ä¼šå¯¼è‡´å¯¹åº”å…³ç³»å‡ºé”™

### åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹

ç»™å®šä¸€ä¸ªæ’åºæ•°ç»„ï¼Œä½ éœ€è¦åœ¨ åŸåœ° åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿å¾—æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ï¼Œè¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚

ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨ åŸåœ° ä¿®æ”¹è¾“å…¥æ•°ç»„ å¹¶åœ¨ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚

[leetcode26](https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array/)

```js
// åŒæŒ‡é’ˆi j ä¸€èˆ¬ç”¨ä¸è§£å†³åŒé‡å¾ªç¯å¯¹æ¯”é—®é¢˜
// å¦‚æœä¸¤è€…ä¸ç›¸ç­‰ï¼Œå°±äº¤æ¢ä½ç½®
function removeDuplicates(nums: number[]): number {
  let i: number = 0;
  for (let j: number = 1; j < nums.length; j++) {
    if (nums[j] !== nums[i]) {
      i++;
      nums[i] = nums[j];
    }
  }
  return i + 1;
}
```

## 3.3

### ts åŸºç¡€æ–‡ç« 

åŸºç¡€éƒ¨åˆ†å¤§æ¦‚æ€»ç»“å®Œäº†ï¼Œé¡¹ç›®ç”¨åˆ°äº†åœ¨çœ‹ï¼Œå†²å†²å†²

## 3.2

### react é¡¹ç›®æ‰“åŒ…è·¯å¾„é—®é¢˜

package.json ä¸­æ·»åŠ `"homepage": "./",` ä¸'dependencies' åŒçº§

### nrm

npm æºç®¡ç†å™¨

- npm install -g nrm
- åˆ—å‡ºå¯é€‰æ‹©çš„æº:nrm ls
- åˆ‡æ¢ä½¿ç”¨çš„æº:nrm use npm
- æ·»åŠ ä¸€ä¸ªæº:nrm add <registry> <url>
- åˆ é™¤ä¸€ä¸ªæº:nrm del <registry>
- æµ‹è¯•æºé€Ÿåº¦:nrm test

### craco npm åŒ…

ä½¿ç”¨ create-react-app åˆ›å»ºé¡¹ç›®ï¼Œä¸æƒ³ eject é¡¹ç›®ä½†æƒ³å¯¹é¡¹ç›®ä¸­ wepback è¿›è¡Œè‡ªå®šä¹‰é…ç½®çš„æ—¶å€™ä½¿ç”¨æè¿™ä¸ªï¼Œé¡¹ç›®æ ¹ç›®å½•æ–°å»º craco.config.js è¿›è¡Œé…ç½®

å‚è€ƒæ–‡ç« ï¼š[ä½¿ç”¨ craco é…ç½®åŸºäº create-react-app çš„å¼€å‘ç¯å¢ƒ](https://blog.csdn.net/qq_39223195/article/details/106287522)

### åŒé—®å·æ“ä½œç¬¦ ??

?? æ›¿æ¢||çš„è¿ç®—ç¬¦ï¼ˆåªæœ‰ undefined å’Œ null ä¼šè¿”å›é»˜è®¤å€¼ï¼‰,å¹¶æä¾›é»˜è®¤å€¼;

```js
> undefined ?? 'default'
'default'
> null ?? 'default'
'default'
> false ?? 'default'
false
> '' ?? 'default'
''
> 0 ?? 'default'
0
```

### å¯é€‰é“¾æ“ä½œç¬¦ ?.

```js
let arr = res && res.data && res.data.list;
// ç­‰åŒäº
let arr = res?.data?.list;
```

## 3.1

### ts å­¦ä¹ 

è§ ts å­¦ä¹ ç¬”è®°

### react + ts his ç³»ç»Ÿå¼€å‘

ç»ƒæ‰‹çš„è¿‡ç¨‹é‡åˆ°å¾ˆå¤šé—®é¢˜ï¼Œç»§ç»­å†²å†²å†²ï¼Œæ¼”ç¤ºåœ°å€ï¼š[ä¿ŠåŠ« his ç³»ç»Ÿ](https://alexwjj.github.io/his/index.html)
